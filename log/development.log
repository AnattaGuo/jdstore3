Started GET "/" for ::1 at 2017-07-11 20:45:27 +0800
Processing by Rails::WelcomeController#index as HTML
  Parameters: {"internal"=>true}
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/welcome/index.html.erb (4.5ms)
Completed 200 OK in 24ms (Views: 10.1ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-11 20:49:27 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
  Rendered common/_navbar.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 3636ms (Views: 3623.9ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2017-07-11 20:51:57 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered common/_navbar.html.erb (11.4ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 128ms (Views: 125.8ms | ActiveRecord: 0.0ms)


  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to DeviseCreateUsers (20170711125248)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170711125248"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", 2017-07-11 12:52:54 UTC], ["updated_at", 2017-07-11 12:52:54 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-07-11 20:55:40 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.0ms)
  Rendered common/_navbar.html.erb (7.5ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 459ms (Views: 447.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2017-07-11 20:58:07 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Devise::SessionsController#new as HTML
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.5ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (48.6ms)
  Rendered common/_navbar.html.erb (1.1ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 3044ms (Views: 3013.7ms | ActiveRecord: 1.6ms)


Started GET "/users/sign_in" for ::1 at 2017-07-11 20:58:10 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.5ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (8.0ms)
  Rendered common/_navbar.html.erb (0.9ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 84ms (Views: 82.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2017-07-11 20:58:11 +0800
Processing by Devise::RegistrationsController#new as HTML
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.1ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/registrations/new.html.erb within layouts/application (13.0ms)
  Rendered common/_navbar.html.erb (1.5ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 135ms (Views: 133.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2017-07-11 20:58:25 +0800
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"bazHKOiJ4WNM+XpF3Fn2ezrXUl/gKNfVZfJNqm24mqTlA7Lw1dsrgZw/T+B1poK495y3IwJLE9tzRunxrvjqpw==", "user"=>{"email"=>"mj@jdstore3.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "mj@jdstore3.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "mj@jdstore3.com"], ["encrypted_password", "$2a$11$/CaU2oxzdKKYHHFh5EDoLOAQ/4ZJhel0y2drm4Xr7ngQhWxhrrCNC"], ["created_at", 2017-07-11 12:58:25 UTC], ["updated_at", 2017-07-11 12:58:25 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = ?, "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["sign_in_count", 1], ["current_sign_in_at", 2017-07-11 12:58:25 UTC], ["last_sign_in_at", 2017-07-11 12:58:25 UTC], ["current_sign_in_ip", "::1"], ["last_sign_in_ip", "::1"], ["updated_at", 2017-07-11 12:58:25 UTC], ["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 201ms (ActiveRecord: 2.8ms)


Started GET "/" for ::1 at 2017-07-11 20:58:25 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.3ms)
  Rendered common/_flashes.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 41ms (Views: 38.8ms | ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-07-11 21:08:08 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (3.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (35.1ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 599ms (Views: 566.6ms | ActiveRecord: 1.9ms)


Started GET "/rails/info/routes" for ::1 at 2017-07-11 21:08:13 +0800
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [16 times] (21.0ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (15.4ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (45.3ms)
Completed 200 OK in 68ms (Views: 56.4ms | ActiveRecord: 0.0ms)


Started GET "/rails/info/routes" for ::1 at 2017-07-11 21:09:12 +0800
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [24 times] (5.7ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.2ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (12.0ms)
Completed 200 OK in 22ms (Views: 17.6ms | ActiveRecord: 0.0ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateProducts (20170711130926)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "quantity" integer, "price" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170711130926"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/admin/products/new" for ::1 at 2017-07-11 21:10:32 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Admin::ProductsController#new as HTML
  Rendering admin/products/new.html.erb within layouts/application
  Rendered admin/products/new.html.erb within layouts/application (77.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (15.1ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.7ms)
Completed 200 OK in 2687ms (Views: 2668.5ms | ActiveRecord: 1.7ms)


Started POST "/admin/products" for ::1 at 2017-07-11 21:10:51 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XM10uyz+jA2/I+c/txwYsNKI5HOjX4qX70NCFnuaerjSqavZA0Y+AWPbSmMnd8q41cXteyuvVrmP+OprCX7dGw==", "product"=>{"title"=>"Pen", "description"=>"Nice Pen", "quantity"=>"100", "price"=>"20"}, "commit"=>"Submit"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Pen"], ["description", "Nice Pen"], ["quantity", 100], ["price", 20], ["created_at", 2017-07-11 13:10:51 UTC], ["updated_at", 2017-07-11 13:10:51 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)


Started GET "/admin/products" for ::1 at 2017-07-11 21:10:51 +0800
  
AbstractController::ActionNotFound (The action 'index' could not be found for Admin::ProductsController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
Started GET "/admin/products" for ::1 at 2017-07-11 21:11:38 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/application (10.5ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (11.2ms)
  Rendered common/_flashes.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 103ms (Views: 96.2ms | ActiveRecord: 1.7ms)


Started GET "/admin/products/1" for ::1 at 2017-07-11 21:11:40 +0800
  
AbstractController::ActionNotFound (The action 'show' could not be found for Admin::ProductsController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.4ms)
Started GET "/admin/products/1/edit" for ::1 at 2017-07-11 21:12:41 +0800
Processing by Admin::ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/edit.html.erb within layouts/application
  Rendered admin/products/edit.html.erb within layouts/application (8.3ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (14.3ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 108ms (Views: 77.6ms | ActiveRecord: 1.7ms)


Started PATCH "/admin/products/1" for ::1 at 2017-07-11 21:12:46 +0800
Processing by Admin::ProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"1eR0vimS6ZyOUMZAcig24AdIt/GO3dTbFFGtWM7KYNVbgKvcBipbkFKoaxziQ+ToAAW++QYtCPV06gUlvC7Hdg==", "product"=>{"title"=>"Pen", "description"=>"Nice Pen", "quantity"=>"100", "price"=>"21"}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "price" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["price", 21], ["updated_at", 2017-07-11 13:12:46 UTC], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)


Started GET "/admin/products" for ::1 at 2017-07-11 21:12:46 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/application (2.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.1ms)
  Rendered common/_flashes.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 54ms (Views: 51.4ms | ActiveRecord: 0.5ms)


Started GET "/admin/products/1" for ::1 at 2017-07-11 21:12:52 +0800
  
AbstractController::ActionNotFound (The action 'show' could not be found for Admin::ProductsController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.4ms)
Started GET "/admin/products" for ::1 at 2017-07-11 21:12:54 +0800
Processing by Admin::ProductsController#index as HTML
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.3ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 47ms (Views: 45.0ms | ActiveRecord: 0.4ms)


Started GET "/admin/products/new" for ::1 at 2017-07-11 21:14:25 +0800
Processing by Admin::ProductsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/new.html.erb within layouts/application
  Rendered admin/products/new.html.erb within layouts/application (9.6ms)
  Rendered common/_navbar.html.erb (0.9ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 83ms (Views: 55.5ms | ActiveRecord: 1.3ms)


Started DELETE "/users/sign_out" for ::1 at 2017-07-11 21:14:31 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MocyzAHYsjjxkIAOoBj8t9EqYU+H7ngVydDfPpCNv2K84+2uLmAANC1oLVIwcy6/1mdoRw8epDupa3dD4mkYwQ=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-07-11 21:14:31 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Rendered common/_navbar.html.erb (5.6ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 47ms (Views: 45.6ms | ActiveRecord: 0.0ms)


Started GET "/admin/products/new" for ::1 at 2017-07-11 21:14:35 +0800
Processing by Admin::ProductsController#new as HTML
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2017-07-11 21:14:35 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.6ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (21.2ms)
  Rendered common/_navbar.html.erb (0.9ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 86ms (Views: 79.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2017-07-11 21:14:52 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"y5GU6cI70bIvPE55ndU8NZChwhe3yW8OUN4KXGcdIRKdjdy1X69G3lo51/vlErO46tPryTykZKgdhWcDje4Hwg==", "user"=>{"email"=>"mj@jdstore3.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "mj@jdstore3.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", 2017-07-11 13:14:52 UTC], ["sign_in_count", 2], ["updated_at", 2017-07-11 13:14:52 UTC], ["id", 1]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/admin/products/new
Completed 302 Found in 166ms (ActiveRecord: 2.7ms)


Started GET "/admin/products/new" for ::1 at 2017-07-11 21:14:52 +0800
Processing by Admin::ProductsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/new.html.erb within layouts/application
  Rendered admin/products/new.html.erb within layouts/application (8.9ms)
  Rendered common/_navbar.html.erb (1.3ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 57ms (Views: 53.7ms | ActiveRecord: 0.2ms)


Started POST "/admin/products" for ::1 at 2017-07-11 21:15:08 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2324IoHZjX4wyZC3RlaOHd/au5thmwKTZJTihxjFsYkYS3kbkEPKyyhdlaEwGNe5vVoapw+IB/QJ0IkaQj7hRg==", "product"=>{"title"=>"Cup", "description"=>"Huge Cup", "quantity"=>"20", "price"=>"300"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Cup"], ["description", "Huge Cup"], ["quantity", 20], ["price", 300], ["created_at", 2017-07-11 13:15:08 UTC], ["updated_at", 2017-07-11 13:15:08 UTC]]
  [1m[35m (3.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 16ms (ActiveRecord: 4.6ms)


Started GET "/admin/products" for ::1 at 2017-07-11 21:15:08 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/application (3.5ms)
  Rendered common/_navbar.html.erb (1.8ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 64ms (Views: 58.9ms | ActiveRecord: 0.6ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddIsAdminToUser (20170711131647)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "is_admin" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170711131647"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/admin/products/new" for ::1 at 2017-07-11 21:17:23 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Admin::ProductsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :admin_required rendered or redirected
Completed 302 Found in 40ms (ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2017-07-11 21:17:23 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 484ms (Views: 480.3ms | ActiveRecord: 0.3ms)


  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "mjadmin@jdstore3.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["email", "mjadmin@jdstore3.com"], ["encrypted_password", "$2a$11$weRcp/Z7PAa19t.LoJhEP.3nvNFE5z3GhiJ5UU1Fkgb.mm1yML9vi"], ["created_at", 2017-07-11 13:18:22 UTC], ["updated_at", 2017-07-11 13:18:22 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = ?, "is_admin" = ? WHERE "users"."id" = ?[0m  [["updated_at", 2017-07-11 13:18:53 UTC], ["is_admin", true], ["id", 2]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Started GET "/admin/products/new" for ::1 at 2017-07-11 21:18:58 +0800
Processing by Admin::ProductsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :admin_required rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2017-07-11 21:18:58 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (1.8ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 57ms (Views: 54.8ms | ActiveRecord: 0.2ms)


Started DELETE "/users/sign_out" for ::1 at 2017-07-11 21:19:01 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"T061QmdOC76NkBBYZn06xINUABOcd9cvuNY1DedTTlmMeHR7dtRMC5UEFU4QM2Ng4dShL/Jk0kjVkl6Qvagelg=="}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 15ms (ActiveRecord: 0.3ms)


Started GET "/" for ::1 at 2017-07-11 21:19:01 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.3ms)
  Rendered common/_navbar.html.erb (4.6ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 108ms (Views: 106.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2017-07-11 21:19:03 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (1.9ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (42.4ms)
  Rendered common/_navbar.html.erb (1.3ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 121ms (Views: 117.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2017-07-11 21:19:13 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ka5cakDAoKoG/wKuQt0iEvHbCfvsz5TdyBIGzk26c7so2yL4qwSq1qq0Utx2IBk4H8HqEp8M158herl9B1oSEg==", "user"=>{"email"=>"mjadmin@jdstore3.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "mjadmin@jdstore3.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "last_sign_in_at" = ?, "current_sign_in_ip" = ?, "last_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", 2017-07-11 13:19:13 UTC], ["last_sign_in_at", 2017-07-11 13:19:13 UTC], ["current_sign_in_ip", "::1"], ["last_sign_in_ip", "::1"], ["sign_in_count", 1], ["updated_at", 2017-07-11 13:19:13 UTC], ["id", 2]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 180ms (ActiveRecord: 3.6ms)


Started GET "/" for ::1 at 2017-07-11 21:19:13 +0800
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.6ms)
  Rendered common/_flashes.html.erb (1.3ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 65ms (Views: 63.6ms | ActiveRecord: 0.2ms)


Started GET "/admin/products/new" for ::1 at 2017-07-11 21:19:21 +0800
Processing by Admin::ProductsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/new.html.erb within layouts/application
  Rendered admin/products/new.html.erb within layouts/application (80.6ms)
  Rendered common/_navbar.html.erb (0.7ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 171ms (Views: 138.6ms | ActiveRecord: 1.0ms)


Started POST "/admin/products" for ::1 at 2017-07-11 21:19:48 +0800
Processing by Admin::ProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WPvge/fjoDr0kPkl+F4C+13uuiHAF1RBvaKfaltFTPhQjR8bAoCrZdRrMwF8Lt7C9yTBTiwLj/iYhYkmqKCf4g==", "product"=>{"title"=>"water", "description"=>"Add by Admin", "quantity"=>"80", "price"=>"10000"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "quantity", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "water"], ["description", "Add by Admin"], ["quantity", 80], ["price", 10000], ["created_at", 2017-07-11 13:19:48 UTC], ["updated_at", 2017-07-11 13:19:48 UTC]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)


Started GET "/admin/products" for ::1 at 2017-07-11 21:19:48 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/application (3.2ms)
  Rendered common/_navbar.html.erb (1.6ms)
  Rendered common/_flashes.html.erb (6.2ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 104ms (Views: 98.2ms | ActiveRecord: 0.6ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "mjadmin@jdstore3.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/admin/products" for ::1 at 2017-07-11 21:21:51 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (6.5ms)
  Rendered common/_navbar.html.erb (0.8ms)
Completed 200 OK in 66ms (Views: 49.2ms | ActiveRecord: 1.3ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddImageToProduct (20170711132540)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "products" ADD "image" varchar[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170711132540"]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/" for ::1 at 2017-07-11 21:36:55 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (14.5ms)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (15.4ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 2812ms (Views: 2793.7ms | ActiveRecord: 2.0ms)


Started GET "/" for ::1 at 2017-07-11 21:36:58 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (1.9ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.3ms)
  Rendered common/_flashes.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 58ms (Views: 55.3ms | ActiveRecord: 0.3ms)


Started GET "/admin/jobs" for ::1 at 2017-07-11 21:38:06 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin/jobs"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.1ms)
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [32 times] (8.2ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (9.3ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (95.5ms)
Started GET "/admin/jobs" for ::1 at 2017-07-11 21:38:08 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin/jobs"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [32 times] (7.5ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (83.8ms)
Started GET "/admin/products" for ::1 at 2017-07-11 21:38:11 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.2ms)
  Rendered common/_navbar.html.erb (1.4ms)
Completed 200 OK in 68ms (Views: 56.9ms | ActiveRecord: 1.2ms)


Started GET "/admin/products/1/edit" for ::1 at 2017-07-11 21:38:19 +0800
Processing by Admin::ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/edit.html.erb within layouts/admin
  Rendered admin/products/edit.html.erb within layouts/admin (66.6ms)
  Rendered common/_navbar.html.erb (0.9ms)
Completed 200 OK in 114ms (Views: 103.9ms | ActiveRecord: 0.6ms)


Started PATCH "/admin/products/1" for ::1 at 2017-07-11 21:40:06 +0800
Processing by Admin::ProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rpcEu6UfGrr2kbJTU7DoJzF7IxcHsZS7ufBaAD93mrIzZA6cjblAOFQnKAcNStZZEW23Xjwt3WdVl+MfvVte2Q==", "product"=>{"title"=>"Pen", "description"=>"Nice Pen", "quantity"=>"100", "price"=>"21", "image"=>#<ActionDispatch::Http::UploadedFile:0x007ff5cffe0408 @tempfile=#<Tempfile:/var/folders/8q/l98v2f4s4gs4j26cjhff7xrh0000gn/T/RackMultipart20170711-90701-1pc9240.jpg>, @original_filename="pen.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"pen.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering admin/products/edit.html.erb within layouts/admin
  Rendered admin/products/edit.html.erb within layouts/admin (22.2ms)
  Rendered common/_navbar.html.erb (1.5ms)
Completed 200 OK in 193ms (Views: 102.9ms | ActiveRecord: 1.5ms)


Started PATCH "/admin/products/1" for ::1 at 2017-07-11 21:40:18 +0800
Processing by Admin::ProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/jo2+GeSSktvyB5Hs9Gxatq9UHj9ArnYTd/YQT4GFQD2TMmYkvFBFE8z1GM3oW1TcHcrFxEeYmFo+M4NzePGGg==", "product"=>{"title"=>"Pen", "description"=>"Nice Pen", "quantity"=>"100", "price"=>"21", "image"=>#<ActionDispatch::Http::UploadedFile:0x007ff5ce5032e8 @tempfile=#<Tempfile:/var/folders/8q/l98v2f4s4gs4j26cjhff7xrh0000gn/T/RackMultipart20170711-90701-12j8tcl.jpg>, @original_filename="cup-glass-03.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"cup-glass-03.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "image" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["image", "cup-glass-03.jpg"], ["updated_at", 2017-07-11 13:40:18 UTC], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 603ms (ActiveRecord: 2.5ms)


Started GET "/admin/products" for ::1 at 2017-07-11 21:40:18 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.7ms)
  Rendered common/_navbar.html.erb (1.3ms)
Completed 200 OK in 63ms (Views: 59.6ms | ActiveRecord: 0.5ms)


Started GET "/admin/products/1/edit" for ::1 at 2017-07-11 21:40:55 +0800
Processing by Admin::ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (5.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/edit.html.erb within layouts/admin
  Rendered admin/products/edit.html.erb within layouts/admin (20.2ms)
  Rendered common/_navbar.html.erb (0.8ms)
Completed 200 OK in 82ms (Views: 68.8ms | ActiveRecord: 5.8ms)


Started PATCH "/admin/products/1" for ::1 at 2017-07-11 21:41:02 +0800
Processing by Admin::ProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"g95KrHfJ8i6t/PLdjohQuQJQbLSDV0nZPSgUFQ5BEs8eLUCLX2+orA9KaInQcm7HIkb4/bjLAAXRT60KjG3WpA==", "product"=>{"title"=>"Pen", "description"=>"Nice Pen", "quantity"=>"100", "price"=>"21", "image"=>#<ActionDispatch::Http::UploadedFile:0x007ff5ce2c3578 @tempfile=#<Tempfile:/var/folders/8q/l98v2f4s4gs4j26cjhff7xrh0000gn/T/RackMultipart20170711-90701-44y6cl.jpeg>, @original_filename="Pen.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"Pen.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "products" SET "image" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["image", "Pen.jpeg"], ["updated_at", 2017-07-11 13:41:02 UTC], ["id", 1]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 379ms (ActiveRecord: 2.0ms)


Started GET "/admin/products" for ::1 at 2017-07-11 21:41:02 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (5.2ms)
  Rendered common/_navbar.html.erb (1.0ms)
Completed 200 OK in 79ms (Views: 73.6ms | ActiveRecord: 0.9ms)


Started GET "/admin/products/2/edit" for ::1 at 2017-07-11 21:41:05 +0800
Processing by Admin::ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/edit.html.erb within layouts/admin
  Rendered admin/products/edit.html.erb within layouts/admin (18.0ms)
  Rendered common/_navbar.html.erb (1.3ms)
Completed 200 OK in 74ms (Views: 67.4ms | ActiveRecord: 0.5ms)


Started PATCH "/admin/products/2" for ::1 at 2017-07-11 21:41:10 +0800
Processing by Admin::ProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7Jn0eMmD6o4gIEamQi7LNcT3KfpoPm7mTLhqF7/HndpNmyO75H6h8eh3plZPR2VHHOyJxeKMNNQ9kMnmEYnvtg==", "product"=>{"title"=>"Cup", "description"=>"Huge Cup", "quantity"=>"20", "price"=>"300", "image"=>#<ActionDispatch::Http::UploadedFile:0x007ff5cda1bee8 @tempfile=#<Tempfile:/var/folders/8q/l98v2f4s4gs4j26cjhff7xrh0000gn/T/RackMultipart20170711-90701-jh2ijb.jpg>, @original_filename="cup-glass-03.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"cup-glass-03.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Submit", "id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "image" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["image", "cup-glass-03.jpg"], ["updated_at", 2017-07-11 13:41:11 UTC], ["id", 2]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 603ms (ActiveRecord: 1.6ms)


Started GET "/admin/products" for ::1 at 2017-07-11 21:41:11 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (4.0ms)
  Rendered common/_navbar.html.erb (2.3ms)
Completed 200 OK in 51ms (Views: 47.3ms | ActiveRecord: 0.5ms)


Started GET "/admin/products" for ::1 at 2017-07-11 21:45:07 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (4.5ms)
  Rendered common/_navbar.html.erb (0.8ms)
Completed 200 OK in 91ms (Views: 84.9ms | ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2017-07-11 21:45:10 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (1.9ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 107ms (Views: 96.6ms | ActiveRecord: 0.5ms)


Started GET "/" for ::1 at 2017-07-11 21:45:10 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (2.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.1ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 57ms (Views: 54.8ms | ActiveRecord: 0.5ms)


Started GET "/products" for ::1 at 2017-07-11 21:45:14 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.2ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.7ms)
  Rendered common/_flashes.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 71ms (Views: 68.7ms | ActiveRecord: 0.4ms)


Started GET "/products" for ::1 at 2017-07-11 21:45:17 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.0ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 68ms (Views: 64.6ms | ActiveRecord: 0.3ms)


Started GET "/products" for ::1 at 2017-07-11 21:45:18 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.9ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.5ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 92ms (Views: 88.2ms | ActiveRecord: 0.7ms)


Started GET "/products" for ::1 at 2017-07-11 21:45:51 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.6ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 63ms (Views: 60.9ms | ActiveRecord: 0.4ms)


Started GET "/admin/products" for ::1 at 2017-07-11 21:46:01 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.2ms)
  Rendered common/_navbar.html.erb (1.6ms)
Completed 200 OK in 52ms (Views: 48.2ms | ActiveRecord: 0.4ms)


Started GET "/" for ::1 at 2017-07-11 22:18:19 +0800
  [1m[36mActiveRecord::SchemaMigration Load (2.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (42.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (37.7ms)
  Rendered common/_flashes.html.erb (1.1ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 742ms (Views: 699.4ms | ActiveRecord: 2.3ms)


Started GET "/products/1" for ::1 at 2017-07-11 22:18:23 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (126.6ms)
Completed 500 Internal Server Error in 213ms (ActiveRecord: 0.3ms)


  
ActionView::Template::Error (undefined method `add_to_cart_product_path' for #<#<Class:0x007fd94a9f3050>:0x007fd94a67e0c8>):
    16:     <div> 数量 : <%= @product.quantity %> </div>
    17:     <div class="product-price"> ￥ <%= @product.price %> </div>
    18:     <div class="pull-right">
    19:       <%= link_to("加入购物车", add_to_cart_product_path(@product), :method => :post, :class => "btn btn-primary btn-lg btn-danger") %>
    20:     </div>
    21:   </div>
    22: </div>
  
app/views/products/show.html.erb:19:in `_app_views_products_show_html_erb__1916300447112923005_70285616505520'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.5ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (73.0ms)
Started GET "/products/1" for ::1 at 2017-07-11 22:28:49 +0800
  
NoMethodError (undefined method `psot' for #<ActionDispatch::Routing::Mapper:0x007fd94a3acf70>
Did you mean?  post):
  
config/routes.rb:11:in `block (3 levels) in <top (required)>'
config/routes.rb:10:in `block (2 levels) in <top (required)>'
config/routes.rb:9:in `block in <top (required)>'
config/routes.rb:1:in `<top (required)>'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (6.6ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.7ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (71.9ms)
Started GET "/products/1" for ::1 at 2017-07-11 22:28:59 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (3.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (18.8ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 123ms (Views: 97.2ms | ActiveRecord: 4.3ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-11 22:29:01 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"wfvOq0RfMl0cEE8Esgpt33XWEzDZYvTwgoWh+uHygWLJjTHLsTw5AjzrhSA2erHm3xxoXzV+L0mnore2EhdSeA==", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:12)
Redirected to http://localhost:3000/products/1
Completed 500 Internal Server Error in 150ms (ActiveRecord: 0.3ms)


  
NameError (undefined local variable or method `“测试加入购物车”' for #<ProductsController:0x007fd9512d7260>):
  
app/controllers/products_controller.rb:13:in `add_to_cart'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.7ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (138.1ms)
Started POST "/products/1/add_to_cart" for ::1 at 2017-07-11 22:29:49 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"wfvOq0RfMl0cEE8Esgpt33XWEzDZYvTwgoWh+uHygWLJjTHLsTw5AjzrhSA2erHm3xxoXzV+L0mnore2EhdSeA==", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:14)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 18ms (ActiveRecord: 0.7ms)


Started GET "/products/1" for ::1 at 2017-07-11 22:29:49 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (11.5ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 69ms (Views: 66.0ms | ActiveRecord: 0.7ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-11 22:29:51 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"h3tNUo7GhHmoSOEKEESclM0OjSqy45nnBic/BHqmnJ2PDbIye6WPJoizKy6UNECtZ8T2RV7/Ql4jAClIiUNPhw==", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:14)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)


Started GET "/products/1" for ::1 at 2017-07-11 22:29:51 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.9ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 73ms (Views: 69.4ms | ActiveRecord: 0.4ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-11 22:29:54 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"SBtCLJo6/sXwrWJLsW+iBHnZXUjzhHMVvqm2gL0JwR9Abb1Mb1n1mtBWqG81H3490xMmJx+YqKybjqDMTuwSBQ==", "id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:14)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/products/1" for ::1 at 2017-07-11 22:29:54 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.4ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 60ms (Views: 54.5ms | ActiveRecord: 1.9ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-11 22:29:55 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"3WdtxPoJ7t5gmLQ+DxgKWWrssi6SQhzMK66rrB6Yl0PVEZKkD2rlgUBjfhqLaNZgwCbJQX5ex3UOib3g7X1EWQ==", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:14)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)


Started GET "/products/1" for ::1 at 2017-07-11 22:29:55 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.8ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (1.9ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 74ms (Views: 65.8ms | ActiveRecord: 0.4ms)


Started GET "/products/1" for ::1 at 2017-07-11 22:30:27 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (19.4ms)
  Rendered common/_flashes.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 87ms (Views: 65.9ms | ActiveRecord: 3.0ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-11 22:30:29 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"9B6leXE3vXYgwLnzKSRx4uZor7JFP9EKBpw8TKgxmwb8aFoZhFS2KQA7c9etVK3bTKLU3akjCrMjuyoAW9RIHA==", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:20)
Redirected to http://localhost:3000/products/1
Completed 500 Internal Server Error in 134ms (ActiveRecord: 0.2ms)


  
NameError (undefined local variable or method `“测试加入购物车”' for #<ProductsController:0x007fd9517adc80>):
  
app/controllers/products_controller.rb:21:in `add_to_cart'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.7ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (112.6ms)
Started POST "/products/1/add_to_cart" for ::1 at 2017-07-11 22:31:52 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"9B6leXE3vXYgwLnzKSRx4uZor7JFP9EKBpw8TKgxmwb8aFoZhFS2KQA7c9etVK3bTKLU3akjCrMjuyoAW9RIHA==", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:20)
Redirected to http://localhost:3000/products/1
Completed 500 Internal Server Error in 122ms (ActiveRecord: 0.8ms)


  
NameError (undefined local variable or method `‘测试加入购物车’' for #<ProductsController:0x007fd94e088688>):
  
app/controllers/products_controller.rb:22:in `add_to_cart'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.3ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (125.6ms)
Started POST "/products/1/add_to_cart" for ::1 at 2017-07-11 22:32:32 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"9B6leXE3vXYgwLnzKSRx4uZor7JFP9EKBpw8TKgxmwb8aFoZhFS2KQA7c9etVK3bTKLU3akjCrMjuyoAW9RIHA==", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:12)
Redirected to http://localhost:3000/products/1
Completed 500 Internal Server Error in 113ms (ActiveRecord: 1.2ms)


  
NameError (undefined local variable or method `“测试加入购物车”' for #<ProductsController:0x007fd9520958c0>):
  
app/controllers/products_controller.rb:13:in `add_to_cart'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.3ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (106.3ms)
Started POST "/products/1/add_to_cart" for ::1 at 2017-07-11 22:32:38 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"9B6leXE3vXYgwLnzKSRx4uZor7JFP9EKBpw8TKgxmwb8aFoZhFS2KQA7c9etVK3bTKLU3akjCrMjuyoAW9RIHA==", "id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:12)
Redirected to http://localhost:3000/products/1
Completed 500 Internal Server Error in 114ms (ActiveRecord: 0.1ms)


  
NameError (undefined local variable or method `“测试加入购物车”' for #<ProductsController:0x007fd952bae298>):
  
app/controllers/products_controller.rb:13:in `add_to_cart'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (2.8ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (103.9ms)
Started GET "/products/1" for ::1 at 2017-07-11 22:34:16 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (15.5ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 121ms (Views: 104.8ms | ActiveRecord: 1.8ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-11 22:34:17 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"dJLRcMjWugXy74izHRGBaXkCT1HeyiyukDzs/SHF7yF85C4QPbWxWtIUQpeZYV1Q08g0PjLW9xe1G/qx0iA8Ow==", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:12)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)


Started GET "/products/1" for ::1 at 2017-07-11 22:34:17 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.8ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.8ms)
Completed 200 OK in 80ms (Views: 73.6ms | ActiveRecord: 0.5ms)


Started GET "/" for ::1 at 2017-07-11 22:44:48 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (24.2ms)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.7ms)
  Rendered common/_flashes.html.erb (1.3ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 204ms (Views: 189.5ms | ActiveRecord: 1.2ms)


Started GET "/rails/info/routes" for ::1 at 2017-07-11 22:49:11 +0800
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [33 times] (23.2ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (17.2ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (53.7ms)
Completed 200 OK in 68ms (Views: 61.1ms | ActiveRecord: 0.0ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:01:46 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (10.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.4ms)
  Rendered common/_flashes.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 207ms (Views: 185.0ms | ActiveRecord: 2.1ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-12 19:01:47 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"wtqcqnVQdYWmUFFZI4p/DkyiRPAtNEfzLZKRFImIzfbKrGPKgDN+2oarm32n+qM35mg/n8EonEoItYdYem0e7A==", "id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:12)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:01:47 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (2.5ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 87ms (Views: 84.2ms | ActiveRecord: 0.2ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCarts (20170712110212)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "carts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170712110212"]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateCartItmes (20170712110232)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "cart_itmes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "product_id" integer, "quantity" integer DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170712110232"]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-07-12 11:08:53 UTC], ["updated_at", 2017-07-12 11:08:53 UTC]]
  [1m[35m (1.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-07-12 11:11:53 UTC], ["updated_at", 2017-07-12 11:11:53 UTC]]
  [1m[35m (3.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-07-12 11:15:48 UTC], ["updated_at", 2017-07-12 11:15:48 UTC]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 2]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCartItmes (20170712110232)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "cart_itmes"[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20170712110232"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCartItems (20170712112338)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "cart_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "cart_id" integer, "product_id" integer, "quantity" integer DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170712112338"]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "carts"[0m
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" ORDER BY "carts"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 1], ["product_id", 1], ["created_at", 2017-07-12 11:34:10 UTC], ["updated_at", 2017-07-12 11:34:10 UTC]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCartItem Load (0.4ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 1]]
Started GET "/" for ::1 at 2017-07-12 19:35:42 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (16.1ms)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (16.3ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 120ms (Views: 109.8ms | ActiveRecord: 1.5ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:45:40 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (9.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-07-12 11:45:40 UTC], ["updated_at", 2017-07-12 11:45:40 UTC]]
  [1m[35m (1.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (148.9ms)
  Rendered common/_flashes.html.erb (1.9ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 580ms (Views: 538.1ms | ActiveRecord: 6.0ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-12 19:45:43 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"55EcAp+KHNRHRpxFsw6xoEPl7flklYO6BwTBO0UYeZDv5+NiaukXi2e9VmE3fm2Z6S+WloiJWAMiI9d3tv2qig==", "id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 4], ["product_id", 1], ["created_at", 2017-07-12 11:45:43 UTC], ["updated_at", 2017-07-12 11:45:43 UTC]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:14)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 33ms (ActiveRecord: 3.4ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:45:43 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.1ms)
  Rendered common/_flashes.html.erb (1.6ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 73ms (Views: 67.2ms | ActiveRecord: 0.7ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:47:40 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.5ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 77ms (Views: 72.7ms | ActiveRecord: 0.6ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:47:42 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (11.9ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 84ms (Views: 80.0ms | ActiveRecord: 0.6ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:47:42 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.2ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 103ms (Views: 98.2ms | ActiveRecord: 0.7ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:47:43 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.6ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.7ms)
Completed 200 OK in 96ms (Views: 91.7ms | ActiveRecord: 0.9ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:47:43 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.3ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.0ms)
  Rendered common/_flashes.html.erb (0.4ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 82ms (Views: 78.8ms | ActiveRecord: 0.7ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:47:43 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.5ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 92ms (Views: 83.6ms | ActiveRecord: 0.7ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:47:46 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.3ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 76ms (Views: 72.6ms | ActiveRecord: 0.7ms)


Started GET "/rails/info/routes" for ::1 at 2017-07-12 19:47:52 +0800
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [33 times] (13.2ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (8.2ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (27.0ms)
Completed 200 OK in 37ms (Views: 33.2ms | ActiveRecord: 0.0ms)


Started GET "/rails/info/routes" for ::1 at 2017-07-12 19:49:35 +0800
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [41 times] (9.6ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.0ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (17.8ms)
Completed 200 OK in 28ms (Views: 24.1ms | ActiveRecord: 0.0ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:50:29 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.4ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (29.0ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 2068ms (Views: 2047.9ms | ActiveRecord: 2.3ms)


Started GET "/products/1" for ::1 at 2017-07-12 19:50:31 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.2ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.7ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.7ms)
Completed 200 OK in 73ms (Views: 69.8ms | ActiveRecord: 0.8ms)


Started GET "/carts" for ::1 at 2017-07-12 19:50:32 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (18.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.9ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 105ms (Views: 99.7ms | ActiveRecord: 2.4ms)


Started GET "/carts" for ::1 at 2017-07-12 19:55:55 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  Rendered carts/index.html.erb within layouts/application (2.2ms)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.0ms)


  
SyntaxError (/Users/guomengjun/Project/jdstore3/app/views/carts/index.html.erb:65: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/guomengjun/Project/jdstore3/app/views/carts/index.html.erb:67: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/views/carts/index.html.erb:65: syntax error, unexpected keyword_ensure, expecting keyword_end
app/views/carts/index.html.erb:67: syntax error, unexpected end-of-input, expecting keyword_end
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.2ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.2ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (66.1ms)
Started GET "/carts" for ::1 at 2017-07-12 19:57:07 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (6.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.5ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 94ms (Views: 90.5ms | ActiveRecord: 1.0ms)


Started GET "/carts" for ::1 at 2017-07-12 19:57:55 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (5.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.7ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 61ms (Views: 58.0ms | ActiveRecord: 0.9ms)


Started GET "/" for ::1 at 2017-07-12 20:04:03 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (8.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (28.8ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 92ms (Views: 83.7ms | ActiveRecord: 2.2ms)


Started GET "/products/2" for ::1 at 2017-07-12 20:04:04 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.5ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 86ms (Views: 80.7ms | ActiveRecord: 0.7ms)


Started POST "/products/2/add_to_cart" for ::1 at 2017-07-12 20:04:05 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"Uw932fZ7e+eaksDxDh/+8MtvlXrYQdk3p129gr34MhJbeYi5AxhwuLppCtWKbyLJYaXuFTRdAo6CeqvOTh3hCA==", "id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 4], ["product_id", 2], ["created_at", 2017-07-12 12:04:05 UTC], ["updated_at", 2017-07-12 12:04:05 UTC]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:14)
Redirected to http://localhost:3000/products/2
Completed 302 Found in 22ms (ActiveRecord: 6.8ms)


Started GET "/products/2" for ::1 at 2017-07-12 20:04:05 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.0ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.2ms)
Completed 200 OK in 63ms (Views: 60.3ms | ActiveRecord: 1.1ms)


Started GET "/carts" for ::1 at 2017-07-12 20:04:07 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (12.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
  Rendered common/_flashes.html.erb (1.1ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 93ms (Views: 89.5ms | ActiveRecord: 1.2ms)


Started GET "/carts" for ::1 at 2017-07-12 20:08:34 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (32.6ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (14.8ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 97ms (Views: 92.3ms | ActiveRecord: 3.2ms)


Started DELETE "/carts/clean" for ::1 at 2017-07-12 20:08:40 +0800
  
AbstractController::ActionNotFound (The action 'clean' could not be found for CartsController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.4ms)
Started GET "/carts/" for ::1 at 2017-07-12 20:10:08 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (34.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (19.1ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 107ms (Views: 102.5ms | ActiveRecord: 2.9ms)


Started DELETE "/carts/clean" for ::1 at 2017-07-12 20:10:12 +0800
Processing by CartsController#clean as HTML
  Parameters: {"authenticity_token"=>"WxGP5N7NNgeQ+C6+09K9KZ76y7WGyDizMhKbaaHilTJTZ3CEK649WLAD5JpXomEQNDCw2mrU4woXNY0lUgdGKA=="}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.1ms)


  
NoMethodError (undefined method `clean!' for #<Cart:0x007f813241a310>):
  
app/controllers/carts_controller.rb:3:in `clean'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.8ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (61.6ms)
Started DELETE "/carts/clean" for ::1 at 2017-07-12 20:11:12 +0800
Processing by CartsController#clean as HTML
  Parameters: {"authenticity_token"=>"WxGP5N7NNgeQ+C6+09K9KZ76y7WGyDizMhKbaaHilTJTZ3CEK649WLAD5JpXomEQNDCw2mrU4woXNY0lUgdGKA=="}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/carts
Completed 302 Found in 25ms (ActiveRecord: 2.5ms)


Started GET "/carts" for ::1 at 2017-07-12 20:11:12 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered carts/index.html.erb within layouts/application (3.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (28.8ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 89ms (Views: 85.8ms | ActiveRecord: 1.8ms)


Started GET "/products" for ::1 at 2017-07-12 20:11:24 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (12.3ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.1ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 77ms (Views: 73.1ms | ActiveRecord: 0.8ms)


Started GET "/products/2" for ::1 at 2017-07-12 20:11:25 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (3.9ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.0ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 79ms (Views: 73.1ms | ActiveRecord: 0.7ms)


Started POST "/products/2/add_to_cart" for ::1 at 2017-07-12 20:11:26 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"E38+YLfXaV5Av0vMl3LY84uoeTcodxNPzpEaW/cieqUbCcEAQrRiAWBEgegTAgTKIWICWMRryPbrtgwXBMepvw==", "id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 4], ["product_id", 2], ["created_at", 2017-07-12 12:11:26 UTC], ["updated_at", 2017-07-12 12:11:26 UTC]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:14)
Redirected to http://localhost:3000/products/2
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)


Started GET "/products/2" for ::1 at 2017-07-12 20:11:26 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.7ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 61ms (Views: 57.6ms | ActiveRecord: 0.7ms)


Started GET "/products" for ::1 at 2017-07-12 20:11:28 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.6ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 56ms (Views: 53.8ms | ActiveRecord: 0.7ms)


Started GET "/products/1" for ::1 at 2017-07-12 20:11:29 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.9ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.9ms)
  Rendered common/_flashes.html.erb (1.5ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 70ms (Views: 65.3ms | ActiveRecord: 0.6ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-12 20:11:30 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"ZRr0fsY7YwzrcQkwHtzMOcjWEPZLH/Z/LZqCT3sgT6RtbAseM1hoU8uKwxSarBAAYhxrmacDLcYIvZQDiMWcvg==", "id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 4], ["product_id", 1], ["created_at", 2017-07-12 12:11:30 UTC], ["updated_at", 2017-07-12 12:11:30 UTC]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:14)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)


Started GET "/products/1" for ::1 at 2017-07-12 20:11:30 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.5ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 65ms (Views: 60.9ms | ActiveRecord: 0.6ms)


Started GET "/carts" for ::1 at 2017-07-12 20:17:30 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (37.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (19.9ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 2193ms (Views: 2187.4ms | ActiveRecord: 4.2ms)


Started GET "/carts" for ::1 at 2017-07-12 20:17:33 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (8.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.0ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 82ms (Views: 78.4ms | ActiveRecord: 1.0ms)


Started DELETE "/cart_items/2" for ::1 at 2017-07-12 20:17:54 +0800
  
AbstractController::ActionNotFound (The action 'destroy' could not be found for CartItemsController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.4ms)
Started DELETE "/cart_items/2" for ::1 at 2017-07-12 20:19:40 +0800
Processing by CartItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"mQ65zGOwxSZbEK0dr71sBu6Dz6aWHorZVuGZVKaT2lGReEasltPOeXvrZzkrzbA/REm0yXoCUWBzxo8YVXYJSw==", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from destroy at /Users/guomengjun/Project/jdstore3/app/controllers/cart_items_controller.rb:11)
Redirected to http://localhost:3000/carts
Completed 302 Found in 50ms (ActiveRecord: 3.7ms)


Started GET "/carts" for ::1 at 2017-07-12 20:19:40 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (7.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.6ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 76ms (Views: 72.3ms | ActiveRecord: 0.8ms)


Started GET "/products" for ::1 at 2017-07-12 20:22:06 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (10.3ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (28.1ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 100ms (Views: 90.3ms | ActiveRecord: 2.5ms)


Started GET "/products" for ::1 at 2017-07-12 20:22:06 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.9ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.7ms)
Completed 200 OK in 76ms (Views: 72.7ms | ActiveRecord: 0.9ms)


Started GET "/products/1" for ::1 at 2017-07-12 20:22:07 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (4.6ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.9ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 88ms (Views: 80.2ms | ActiveRecord: 0.8ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-12 20:22:08 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"uISYSymSB70GVRTnTGhk4aUcYiBXvijwWDK+Rtp3d7iw8mcr3PEM4iau3sPIGLjYD9YZT7ui80l9FagKKZKkog==", "id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ? AND "products"."id" = ? LIMIT ?[0m  [["cart_id", 4], ["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:18)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 30ms (ActiveRecord: 0.9ms)


Started GET "/products/1" for ::1 at 2017-07-12 20:22:08 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.3ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 75ms (Views: 71.6ms | ActiveRecord: 0.8ms)


Started GET "/carts" for ::1 at 2017-07-12 20:25:09 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (53.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (12.7ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 118ms (Views: 111.6ms | ActiveRecord: 3.5ms)


Started PATCH "/cart_items/1" for ::1 at 2017-07-12 20:25:13 +0800
Processing by CartItemsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cMIP9glbKuOkjChYXNGHHgl+ElgHY29L2q0iHJRFfD4WJ5sKrlfxe8zgtxthbHPKZ1UOIUWbTsbcVK4/h48vyg==", "cart_item"=>{"quantity"=>"3"}, "commit"=>"更新", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 3], ["updated_at", 2017-07-12 12:25:13 UTC], ["id", 5]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/carts
Completed 302 Found in 21ms (ActiveRecord: 2.1ms)


Started GET "/carts" for ::1 at 2017-07-12 20:25:13 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (5.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
  Rendered common/_flashes.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 58ms (Views: 55.8ms | ActiveRecord: 0.7ms)


Started PATCH "/cart_items/1" for ::1 at 2017-07-12 20:27:29 +0800
Processing by CartItemsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"/7gDfDtZ+AgSBSu7EUywZUKwTOThTyFAJAPAmU6Xa633zvwczjrzVzL+4Z+VPGxc6Ho3iw1T+vkBJNbVvXK4tw==", "cart_item"=>{"quantity"=>"5"}, "commit"=>"更新", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 5], ["updated_at", 2017-07-12 12:27:29 UTC], ["id", 5]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/carts
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)


Started GET "/carts" for ::1 at 2017-07-12 20:27:29 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (19.6ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 80.9ms | ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2017-07-12 20:27:31 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.0ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 85ms (Views: 80.1ms | ActiveRecord: 1.0ms)


Started GET "/products" for ::1 at 2017-07-12 20:27:32 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (14.0ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 119ms (Views: 111.9ms | ActiveRecord: 0.9ms)


Started GET "/carts" for ::1 at 2017-07-12 20:27:34 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (8.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.6ms)
  Rendered common/_flashes.html.erb (2.2ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 78.7ms | ActiveRecord: 1.0ms)


Started GET "/carts" for ::1 at 2017-07-12 20:28:33 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (10.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.6ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 83ms (Views: 80.9ms | ActiveRecord: 0.9ms)


Started GET "/" for ::1 at 2017-07-12 20:28:42 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.4ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.5ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 70ms (Views: 66.8ms | ActiveRecord: 0.7ms)


Started GET "/products/1" for ::1 at 2017-07-12 20:28:43 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (4.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.5ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 94ms (Views: 89.2ms | ActiveRecord: 0.9ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-12 20:28:45 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"JPmf38HkzAFzq78gmkpJ5zxmaslWZdhT/euwf3brdoosj2C/NIfHXlNQdQQeOpXelqwRprp5A+rYzKYzhQ6lkA==", "id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ? AND "products"."id" = ? LIMIT ?[0m  [["cart_id", 4], ["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:18)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)


Started GET "/products/1" for ::1 at 2017-07-12 20:28:45 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.4ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 59ms (Views: 56.9ms | ActiveRecord: 0.6ms)


Started GET "/carts" for ::1 at 2017-07-12 20:28:49 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (9.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.9ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 67ms (Views: 63.6ms | ActiveRecord: 0.8ms)


Started GET "/products" for ::1 at 2017-07-12 20:28:56 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.3ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 88ms (Views: 85.8ms | ActiveRecord: 0.9ms)


Started GET "/admin/jobs" for ::1 at 2017-07-12 20:29:04 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin/jobs"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.0ms)
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [50 times] (11.0ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.9ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (95.3ms)
Started GET "/admin/products" for ::1 at 2017-07-12 20:29:06 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (2.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered common/_navbar.html.erb (4.4ms)
Completed 200 OK in 67ms (Views: 63.6ms | ActiveRecord: 0.6ms)


Started GET "/admin/products/1/edit" for ::1 at 2017-07-12 20:29:11 +0800
Processing by Admin::ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/edit.html.erb within layouts/admin
  Rendered admin/products/edit.html.erb within layouts/admin (73.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered common/_navbar.html.erb (7.0ms)
Completed 200 OK in 128ms (Views: 119.9ms | ActiveRecord: 0.8ms)


Started PATCH "/admin/products/1" for ::1 at 2017-07-12 20:29:17 +0800
Processing by Admin::ProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"FoQqWn/6aIpmaW2e3tox6PYqldM425d/oEWKaPwC7keLdyB9V1wyCMTf98qAIA+W1jwBmgNH3qNMIjN3fi4qLA==", "product"=>{"title"=>"Pen", "description"=>"Nice Pen", "quantity"=>"0", "price"=>"21"}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "products" SET "quantity" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["quantity", 0], ["updated_at", 2017-07-12 12:29:17 UTC], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 12ms (ActiveRecord: 1.7ms)


Started GET "/admin/products" for ::1 at 2017-07-12 20:29:17 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.2ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered common/_navbar.html.erb (4.5ms)
Completed 200 OK in 51ms (Views: 45.6ms | ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2017-07-12 20:29:19 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.4ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.9ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 81ms (Views: 72.1ms | ActiveRecord: 0.8ms)


Started GET "/" for ::1 at 2017-07-12 20:29:19 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.8ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 84ms (Views: 81.7ms | ActiveRecord: 1.0ms)


Started GET "/products" for ::1 at 2017-07-12 20:29:21 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.6ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 73ms (Views: 67.7ms | ActiveRecord: 1.2ms)


Started GET "/products" for ::1 at 2017-07-12 20:29:22 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.6ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.8ms)
Completed 200 OK in 85ms (Views: 81.3ms | ActiveRecord: 0.7ms)


Started GET "/products/1" for ::1 at 2017-07-12 20:29:24 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.1ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.1ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 84ms (Views: 80.1ms | ActiveRecord: 1.2ms)


Started GET "/carts" for ::1 at 2017-07-12 20:30:46 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (44.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (18.9ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 154ms (Views: 147.9ms | ActiveRecord: 4.0ms)


Started PATCH "/cart_items/1" for ::1 at 2017-07-12 20:30:51 +0800
Processing by CartItemsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7BkfxmC4H+MBzIbNczXRiwcTXT1BetI8gXgt7tDNwR6K/Is6x7TEe2mgGY5OiCVfaThBRAOC87GHgaHNwweS6g==", "cart_item"=>{"quantity"=>"1"}, "commit"=>"更新", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 1], ["updated_at", 2017-07-12 12:30:51 UTC], ["id", 5]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/carts
Completed 302 Found in 22ms (ActiveRecord: 2.4ms)


Started GET "/carts" for ::1 at 2017-07-12 20:30:51 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (7.6ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 65ms (Views: 62.9ms | ActiveRecord: 0.7ms)


Started GET "/admin/jobs" for ::1 at 2017-07-12 20:32:23 +0800
  
ActionController::RoutingError (No route matches [GET] "/admin/jobs"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [50 times] (14.3ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (89.0ms)
Started GET "/admin/products" for ::1 at 2017-07-12 20:32:27 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered common/_navbar.html.erb (5.1ms)
Completed 200 OK in 66ms (Views: 61.5ms | ActiveRecord: 0.8ms)


Started GET "/admin/products/1/edit" for ::1 at 2017-07-12 20:32:32 +0800
Processing by Admin::ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering admin/products/edit.html.erb within layouts/admin
  Rendered admin/products/edit.html.erb within layouts/admin (25.3ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered common/_navbar.html.erb (5.3ms)
Completed 200 OK in 85ms (Views: 75.7ms | ActiveRecord: 1.0ms)


Started PATCH "/admin/products/1" for ::1 at 2017-07-12 20:32:38 +0800
Processing by Admin::ProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EuQtNtpgXJINTO2wqMFpyNH0qIAt3Cw2MvbfnMyXvrqPFycR8sYGEK/6d+T2O1e28eI8yRZAZerekWaDTrt60Q==", "product"=>{"title"=>"Pen", "description"=>"Nice Pen", "quantity"=>"10", "price"=>"21"}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "products" SET "quantity" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["quantity", 10], ["updated_at", 2017-07-12 12:32:38 UTC], ["id", 1]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/admin/products
Completed 302 Found in 15ms (ActiveRecord: 3.2ms)


Started GET "/admin/products" for ::1 at 2017-07-12 20:32:38 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 65ms (Views: 59.5ms | ActiveRecord: 0.7ms)


Started GET "/products" for ::1 at 2017-07-12 20:32:39 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (5.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.7ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 78ms (Views: 74.8ms | ActiveRecord: 0.8ms)


Started GET "/products" for ::1 at 2017-07-12 20:32:39 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (2.9ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.0ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 75ms (Views: 72.7ms | ActiveRecord: 1.1ms)


Started GET "/products/1" for ::1 at 2017-07-12 20:32:40 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (3.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.4ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 86ms (Views: 80.7ms | ActiveRecord: 1.1ms)


Started POST "/products/1/add_to_cart" for ::1 at 2017-07-12 20:32:42 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"qak7Q5+pfIXYjaGmq7Pw1LbiJsR243TEH7TRuX9ruFyh38Qjasp32vh2a4IvwyztHChdq5r/r306k8f1jI5rRg==", "id"=>"1"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ? AND "products"."id" = ? LIMIT ?[0m  [["cart_id", 4], ["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:18)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)


Started GET "/products/1" for ::1 at 2017-07-12 20:32:42 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.8ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 84ms (Views: 80.8ms | ActiveRecord: 0.9ms)


Started GET "/carts" for ::1 at 2017-07-12 20:32:44 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (7.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.4ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 67ms (Views: 63.3ms | ActiveRecord: 0.6ms)


Started POST "/carts" for ::1 at 2017-07-12 20:32:47 +0800
  
AbstractController::ActionNotFound (The action 'create' could not be found for CartsController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:38:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
Started PATCH "/cart_items/1" for ::1 at 2017-07-12 20:33:19 +0800
Processing by CartItemsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"CBCH67t1beX4G9g5/ktd0o5S5osU5lrgxLpwyhAOsOsAZniLThZmutjgEh16O4HrJJid5Pj6gVnhnWaG4+tj8Q==", "cart_item"=>{"quantity"=>"10"}, "commit"=>"更新", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 4], ["product_id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 10], ["updated_at", 2017-07-12 12:33:19 UTC], ["id", 5]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/carts
Completed 302 Found in 21ms (ActiveRecord: 3.6ms)


Started GET "/carts" for ::1 at 2017-07-12 20:33:19 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (7.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 4]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.1ms)
  Rendered common/_flashes.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 80ms (Views: 77.0ms | ActiveRecord: 0.8ms)


Started DELETE "/users/sign_out" for ::1 at 2017-07-12 20:53:10 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"zJzK4uyuA3ySMLIy4Yeek5ChnKdZhZlAebb+tTIJlIjE6jWCGc0II7LLeBZl90KqOmvnyLWZQvlckej5wexHkg=="}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 1.9ms)


Started GET "/" for ::1 at 2017-07-12 20:53:10 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (11.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", 2017-07-12 12:53:11 UTC], ["updated_at", 2017-07-12 12:53:11 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (17.4ms)
  Rendered common/_flashes.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 153ms (Views: 146.7ms | ActiveRecord: 2.8ms)


Started GET "/users/sign_in" for ::1 at 2017-07-12 20:53:12 +0800
Processing by Devise::SessionsController#new as HTML
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/shared/_links.html.erb (2.9ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/devise-4.3.0/app/views/devise/sessions/new.html.erb within layouts/application (47.9ms)
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.2ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 127ms (Views: 120.6ms | ActiveRecord: 0.7ms)


Started POST "/users/sign_in" for ::1 at 2017-07-12 20:53:22 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+1ita2rsGeEB8YvNyUhXxsIIbPVOObAzUBrSUbiopBbNmXO1IOt8xvqYe13Rdsn08h0fJY/4Z9nHK9MsRZ6YaQ==", "user"=>{"email"=>"mjadmin@jdstore3.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "mjadmin@jdstore3.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["current_sign_in_at", 2017-07-12 12:53:22 UTC], ["sign_in_count", 2], ["updated_at", 2017-07-12 12:53:22 UTC], ["id", 2]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 178ms (ActiveRecord: 2.6ms)


Started GET "/" for ::1 at 2017-07-12 20:53:22 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.2ms)
  Rendered common/_flashes.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 72ms (Views: 67.9ms | ActiveRecord: 0.9ms)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 1], ["OFFSET", 1]]
Started GET "/" for ::1 at 2017-07-12 20:54:26 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.1ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 72ms (Views: 69.2ms | ActiveRecord: 0.9ms)


Started GET "/admin/products" for ::1 at 2017-07-12 20:54:28 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (7.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.6ms)
Completed 200 OK in 72ms (Views: 65.3ms | ActiveRecord: 0.9ms)


Started GET "/admin/products" for ::1 at 2017-07-12 20:54:28 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (7.6ms)
Completed 200 OK in 75ms (Views: 69.5ms | ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2017-07-12 20:54:31 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (4.2ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.3ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 72ms (Views: 68.7ms | ActiveRecord: 0.8ms)


Started GET "/" for ::1 at 2017-07-12 20:54:31 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (2.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.5ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 65ms (Views: 62.2ms | ActiveRecord: 0.7ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateOrders (20170712135157)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "total" integer DEFAULT 0, "user_id" integer, "billing_name" varchar, "billing_address" varchar, "shipping_name" varchar, "shipping_address" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170712135157"]]
  [1m[35m (1.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/products/2" for ::1 at 2017-07-12 21:57:21 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (29.9ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 2410ms (Views: 2389.2ms | ActiveRecord: 2.2ms)


Started GET "/products/2" for ::1 at 2017-07-12 21:57:24 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.4ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.1ms)
  Rendered common/_flashes.html.erb (2.2ms)
  Rendered common/_footer.html.erb (0.9ms)
Completed 200 OK in 142ms (Views: 139.3ms | ActiveRecord: 0.5ms)


Started POST "/products/2/add_to_cart" for ::1 at 2017-07-12 21:57:26 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"Y5wvzlRvA8HhTMhn/DS6+6F/nyuxfV74GK8jPyWr1TGmInhD8aoIQ1m8jbSt+KX3XnzwZmri2iyaAs3iyoTwHQ==", "id"=>"2"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ? AND "products"."id" = ? LIMIT ?[0m  [["cart_id", 5], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 5], ["product_id", 2], ["created_at", 2017-07-12 13:57:26 UTC], ["updated_at", 2017-07-12 13:57:26 UTC]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:18)
Redirected to http://localhost:3000/products/2
Completed 302 Found in 51ms (ActiveRecord: 5.4ms)


Started GET "/products/2" for ::1 at 2017-07-12 21:57:26 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.1ms)
  Rendered common/_flashes.html.erb (1.2ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 94ms (Views: 89.6ms | ActiveRecord: 0.9ms)


Started GET "/carts" for ::1 at 2017-07-12 21:57:28 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (9.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.8ms)
  Rendered common/_flashes.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 83ms (Views: 79.0ms | ActiveRecord: 1.3ms)


Started POST "/carts/checkout" for ::1 at 2017-07-12 21:57:29 +0800
Processing by CartsController#checkout as HTML
  Parameters: {"authenticity_token"=>"3w3ok+eIwDtg1zTFxgv8HI5WPLKbBYRaTXqn3vlMk0sas78eQk3LudgncRaXx+MQcVVT/0CaAI7P10kDFmO2Zw=="}
  Rendering carts/checkout.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/checkout.html.erb within layouts/application (14.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.2ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 95ms (Views: 75.1ms | ActiveRecord: 1.8ms)


Started POST "/orders" for ::1 at 2017-07-12 21:58:09 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"rVaHlWo8PMVOFP9Jd8bT/O/Weh3sJhVEAlpuU9DcmqFo6NAYz/k3R/bkupomCszwENUVUDe5kZCA94COP/O/jQ==", "order"=>{"billing_name"=>"M\bJ", "billing_address"=>"Shanghai", "shipping_name"=>"Mengjun", "shipping_address"=>"shanghai"}, "commit"=>"生成订单"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("total", "user_id", "billing_name", "billing_address", "shipping_name", "shipping_address", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["total", 300], ["user_id", 2], ["billing_name", "M\bJ"], ["billing_address", "Shanghai"], ["shipping_name", "Mengjun"], ["shipping_address", "shanghai"], ["created_at", 2017-07-12 13:58:09 UTC], ["updated_at", 2017-07-12 13:58:09 UTC]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/1
Completed 302 Found in 16ms (ActiveRecord: 2.5ms)


Started GET "/orders/1" for ::1 at 2017-07-12 21:58:09 +0800
  
AbstractController::ActionNotFound (The action 'show' could not be found for OrdersController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateProductLists (20170712224028)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "product_lists" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "order_id" integer, "product_name" varchar, "product_price" integer, "quantity" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170712224028"]]
  [1m[35m (2.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/carts/checkout" for ::1 at 2017-07-13 06:45:57 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  
AbstractController::ActionNotFound (The action 'show' could not be found for CartsController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (1.5ms)
Started GET "/" for ::1 at 2017-07-13 06:46:07 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (13.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (38.2ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 145ms (Views: 133.3ms | ActiveRecord: 2.0ms)


Started GET "/carts" for ::1 at 2017-07-13 06:46:09 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (19.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.3ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 91ms (Views: 86.7ms | ActiveRecord: 1.7ms)


Started GET "/order/5" for ::1 at 2017-07-13 06:46:25 +0800
  
ActionController::RoutingError (No route matches [GET] "/order/5"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.4ms)
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [59 times] (40.2ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (118.9ms)
Started GET "/order/1" for ::1 at 2017-07-13 06:46:30 +0800
  
ActionController::RoutingError (No route matches [GET] "/order/1"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [59 times] (15.7ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (89.6ms)
Started GET "/orders/1" for ::1 at 2017-07-13 06:46:39 +0800
  
AbstractController::ActionNotFound (The action 'show' could not be found for OrdersController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
Started GET "/orders/1" for ::1 at 2017-07-13 06:48:40 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.5ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 1]]
  Rendered orders/show.html.erb within layouts/application (4.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (36.9ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 137ms (Views: 108.1ms | ActiveRecord: 4.6ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddTokenToOrder (20170712225031)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "orders" ADD "token" varchar[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170712225031"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/orders/1" for ::1 at 2017-07-13 06:56:54 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "1"], ["LIMIT", 1]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.5ms)


  
NoMethodError (undefined method `product_lists' for nil:NilClass):
  
app/controllers/orders_controller.rb:6:in `show'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (64.2ms)
Started GET "/orders" for ::1 at 2017-07-13 06:58:36 +0800
  
AbstractController::ActionNotFound (The action 'index' could not be found for OrdersController):
  
actionpack (5.0.0) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.0) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.0) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.0) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.0) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.0) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.1) lib/rack/etag.rb:25:in `call'
rack (2.0.1) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.1) lib/rack/head.rb:12:in `call'
rack (2.0.1) lib/rack/session/abstract/id.rb:222:in `context'
rack (2.0.1) lib/rack/session/abstract/id.rb:216:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.0) lib/active_record/migration.rb:552:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.0) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.0) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.0) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.0) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.6ms)
Started GET "/" for ::1 at 2017-07-13 06:58:40 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (14.9ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (35.7ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 161ms (Views: 145.6ms | ActiveRecord: 3.7ms)


Started GET "/carts" for ::1 at 2017-07-13 06:58:42 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (15.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.7ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 81ms (Views: 78.2ms | ActiveRecord: 1.2ms)


Started POST "/carts/checkout" for ::1 at 2017-07-13 06:58:44 +0800
Processing by CartsController#checkout as HTML
  Parameters: {"authenticity_token"=>"7au1GhbMEmV5YolaWzsLf3ZsfJZPPierTgR2J8XRBSIoFeKXswkZ58GSzIkK9xRziW8T25Sho3/MqZj6Kv4gDg=="}
  Rendering carts/checkout.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/checkout.html.erb within layouts/application (9.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.1ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 95ms (Views: 74.9ms | ActiveRecord: 1.9ms)


Started POST "/orders" for ::1 at 2017-07-13 06:58:53 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0bygjM5FcdsGoyvSTIFmfUHN9IEKwsuyeDShgAQRYHsUAvcBa4B6Wb5TbgEdTXlxvs6bzNFdT2b6mU9d6z5FVw==", "order"=>{"billing_name"=>"M\bJ", "billing_address"=>"Shanghai", "shipping_name"=>"Mengjun", "shipping_address"=>"shanghai"}, "commit"=>"生成订单"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("total", "user_id", "billing_name", "billing_address", "shipping_name", "shipping_address", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["total", 300], ["user_id", 2], ["billing_name", "M\bJ"], ["billing_address", "Shanghai"], ["shipping_name", "Mengjun"], ["shipping_address", "shanghai"], ["created_at", 2017-07-12 22:58:53 UTC], ["updated_at", 2017-07-12 22:58:53 UTC], ["token", "f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"]]
  [1m[35m (3.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "product_lists" ("order_id", "product_name", "product_price", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["order_id", 2], ["product_name", "Cup"], ["product_price", 300], ["quantity", 1], ["created_at", 2017-07-12 22:58:53 UTC], ["updated_at", 2017-07-12 22:58:53 UTC]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/f71aa2d0-0aab-4b37-93f3-76c6d7a2a657
Completed 302 Found in 55ms (ActiveRecord: 8.9ms)


Started GET "/orders/f71aa2d0-0aab-4b37-93f3-76c6d7a2a657" for ::1 at 2017-07-13 06:58:53 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 2]]
  Rendered orders/show.html.erb within layouts/application (4.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.8ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 110ms (Views: 99.5ms | ActiveRecord: 1.1ms)


Started GET "/carts" for ::1 at 2017-07-13 06:58:59 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (6.8ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.1ms)
  Rendered common/_flashes.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 64ms (Views: 60.9ms | ActiveRecord: 1.0ms)


Started GET "/admin/products" for ::1 at 2017-07-13 06:59:02 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (5.2ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.9ms)
Completed 200 OK in 65ms (Views: 59.6ms | ActiveRecord: 1.0ms)


Started GET "/admin/products" for ::1 at 2017-07-13 06:59:02 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.0ms)
Completed 200 OK in 63ms (Views: 57.9ms | ActiveRecord: 1.0ms)


Started GET "/carts" for ::1 at 2017-07-13 06:59:03 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (6.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.2ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 77ms (Views: 74.0ms | ActiveRecord: 1.0ms)


Started GET "/carts" for ::1 at 2017-07-13 06:59:03 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (6.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.4ms)
  Rendered common/_flashes.html.erb (1.2ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 91ms (Views: 88.6ms | ActiveRecord: 1.2ms)


Started GET "/account/orders" for ::1 at 2017-07-13 06:59:54 +0800
  
ActionController::RoutingError (No route matches [GET] "/account/orders"):
  
actionpack (5.0.0) lib/action_dispatch/middleware/debug_exceptions.rb:53:in `call'
web-console (3.3.1) lib/web_console/middleware.rb:131:in `call_app'
web-console (3.3.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.3.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.0) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `block in tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.0) lib/active_support/tagged_logging.rb:70:in `tagged'
railties (5.0.0) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.1.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.1) lib/rack/method_override.rb:22:in `call'
rack (2.0.1) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.0) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.1) lib/rack/sendfile.rb:111:in `call'
railties (5.0.0) lib/rails/engine.rb:522:in `call'
puma (3.6.0) lib/puma/configuration.rb:225:in `call'
puma (3.6.0) lib/puma/server.rb:578:in `handle_request'
puma (3.6.0) lib/puma/server.rb:415:in `process_client'
puma (3.6.0) lib/puma/server.rb:275:in `block in run'
puma (3.6.0) lib/puma/thread_pool.rb:116:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.2ms)
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [59 times] (12.7ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.3ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (90.3ms)
Started GET "/account/orders" for ::1 at 2017-07-13 07:05:32 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ?[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (12.8ms)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 1.4ms)


  
ActionView::Template::Error (No route matches {:action=>"show", :controller=>"orders", :id=>nil} missing required keys: [:id]):
    12: 
    13:     <% @orders.each do |order| %>
    14:     <tr>
    15:       <td> <%= link_to(order.id, order_path(order.token)) %> </td>
    16:       <td> <%= order.created_at.to_s(:long) %> </td>
    17:     </tr>
    18:     <% end %>
  
app/views/account/orders/index.html.erb:15:in `block in _app_views_account_orders_index_html_erb___1561642762846292497_70096399116960'
app/views/account/orders/index.html.erb:13:in `_app_views_account_orders_index_html_erb___1561642762846292497_70096399116960'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.3ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (82.2ms)
  [1m[36mOrder Load (1.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."token" IS NULL[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
Started GET "/account/orders" for ::1 at 2017-07-13 07:08:10 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (9.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (25.1ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 2525ms (Views: 2497.1ms | ActiveRecord: 3.8ms)


Started GET "/carts" for ::1 at 2017-07-13 07:08:18 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (33.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.8ms)
  Rendered common/_flashes.html.erb (1.2ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 139ms (Views: 134.4ms | ActiveRecord: 1.3ms)


Started POST "/carts/checkout" for ::1 at 2017-07-13 07:08:20 +0800
Processing by CartsController#checkout as HTML
  Parameters: {"authenticity_token"=>"5q+deXA5W0URZSmT+OxXOhvxgTuwby4Sf+vFkiMmdUgjEcr01fxQx6mVbECpIEg25PLudmvwqsb9RitPzAlQZA=="}
  Rendering carts/checkout.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/checkout.html.erb within layouts/application (11.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
  Rendered common/_flashes.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.8ms)
Completed 200 OK in 81ms (Views: 74.7ms | ActiveRecord: 0.7ms)


Started POST "/orders" for ::1 at 2017-07-13 07:08:29 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"J8h0W7uyJppWBlfhxUI3RhR8GmrNrxjcwvvPxOwYNp7idiPWHnctGO72EjKUjihK6391JxYwnAhAViEZAzcTsg==", "order"=>{"billing_name"=>"M\bJ", "billing_address"=>"Shanghai", "shipping_name"=>"Mengjun", "shipping_address"=>"shanghai"}, "commit"=>"生成订单"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "orders" ("total", "user_id", "billing_name", "billing_address", "shipping_name", "shipping_address", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["total", 300], ["user_id", 2], ["billing_name", "M\bJ"], ["billing_address", "Shanghai"], ["shipping_name", "Mengjun"], ["shipping_address", "shanghai"], ["created_at", 2017-07-12 23:08:29 UTC], ["updated_at", 2017-07-12 23:08:29 UTC], ["token", "1b93dbcc-49ff-4040-891a-dce792450c00"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "product_lists" ("order_id", "product_name", "product_price", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["order_id", 3], ["product_name", "Cup"], ["product_price", 300], ["quantity", 1], ["created_at", 2017-07-12 23:08:29 UTC], ["updated_at", 2017-07-12 23:08:29 UTC]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/orders/1b93dbcc-49ff-4040-891a-dce792450c00
Completed 302 Found in 38ms (ActiveRecord: 5.7ms)


Started GET "/orders/1b93dbcc-49ff-4040-891a-dce792450c00" for ::1 at 2017-07-13 07:08:29 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1b93dbcc-49ff-4040-891a-dce792450c00"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "1b93dbcc-49ff-4040-891a-dce792450c00"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered orders/show.html.erb within layouts/application (2.2ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.9ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 80ms (Views: 75.1ms | ActiveRecord: 1.0ms)


Started GET "/orders/1b93dbcc-49ff-4040-891a-dce792450c00" for ::1 at 2017-07-13 07:09:41 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1b93dbcc-49ff-4040-891a-dce792450c00"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "1b93dbcc-49ff-4040-891a-dce792450c00"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered orders/show.html.erb within layouts/application (7.6ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.1ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 112ms (Views: 101.3ms | ActiveRecord: 1.1ms)


Started GET "/account/orders" for ::1 at 2017-07-13 07:09:45 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (5.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.8ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 79ms (Views: 70.9ms | ActiveRecord: 0.9ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddIsPaidToOrder (20170712231043)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "orders" ADD "is_paid" boolean DEFAULT 'f'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170712231043"]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddPaymentMethodToOrder (20170712231348)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "orders" ADD "payment_method" varchar[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170712231348"]]
  [1m[35m (1.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", :environment], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
Started GET "/orders/1b93dbcc-49ff-4040-891a-dce792450c00" for ::1 at 2017-07-13 07:18:50 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1b93dbcc-49ff-4040-891a-dce792450c00"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "1b93dbcc-49ff-4040-891a-dce792450c00"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered orders/show.html.erb within layouts/application (12.8ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (59.9ms)
  Rendered common/_flashes.html.erb (1.3ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 190ms (Views: 161.1ms | ActiveRecord: 4.3ms)


Started POST "/orders/1b93dbcc-49ff-4040-891a-dce792450c00/pay_with_alipay" for ::1 at 2017-07-13 07:18:52 +0800
Processing by OrdersController#pay_with_alipay as HTML
  Parameters: {"authenticity_token"=>"zprhk555fubRJmzGvSlDc2eTYh+s/ChHjDCqr2RWTq4LJLYeO7x1ZGnWKRXs5Vx/mJANUndjrJMOnURyi3lrgg==", "id"=>"1b93dbcc-49ff-4040-891a-dce792450c00"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "1b93dbcc-49ff-4040-891a-dce792450c00"], ["LIMIT", 1]]
  [1m[35mSQL (2.5ms)[0m  [1m[33mUPDATE "orders" SET "payment_method" = 'alipay' WHERE "orders"."id" = ?[0m  [["id", 3]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "orders" SET "is_paid" = 't' WHERE "orders"."id" = ?[0m  [["id", 3]]
Redirected to http://localhost:3000/orders/1b93dbcc-49ff-4040-891a-dce792450c00
Completed 302 Found in 9ms (ActiveRecord: 4.0ms)


Started GET "/orders/1b93dbcc-49ff-4040-891a-dce792450c00" for ::1 at 2017-07-13 07:18:52 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1b93dbcc-49ff-4040-891a-dce792450c00"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "1b93dbcc-49ff-4040-891a-dce792450c00"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered orders/show.html.erb within layouts/application (2.2ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.7ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 70ms (Views: 63.9ms | ActiveRecord: 1.3ms)


Started GET "/rails/info/routes" for ::1 at 2017-07-13 07:19:45 +0800
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [69 times] (46.0ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.0ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (70.9ms)
Completed 200 OK in 87ms (Views: 80.3ms | ActiveRecord: 0.0ms)


Started GET "/account/orders" for ::1 at 2017-07-13 07:20:21 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (5.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.4ms)
  Rendered common/_flashes.html.erb (1.3ms)
  Rendered common/_footer.html.erb (0.8ms)
Completed 200 OK in 147ms (Views: 128.6ms | ActiveRecord: 1.1ms)


Started GET "/rails/info/routes" for ::1 at 2017-07-13 07:20:26 +0800
Processing by Rails::InfoController#routes as HTML
  Parameters: {"internal"=>true}
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb [69 times] (19.9ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.4ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/railties-5.0.0/lib/rails/templates/rails/info/routes.html.erb within layouts/application (30.0ms)
Completed 200 OK in 41ms (Views: 37.1ms | ActiveRecord: 0.0ms)


  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/carts" for ::1 at 2017-07-13 20:01:43 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (61.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (47.4ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 530ms (Views: 516.8ms | ActiveRecord: 3.4ms)


Started GET "/account/orders" for ::1 at 2017-07-13 20:01:48 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (13.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.5ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 108ms (Views: 81.8ms | ActiveRecord: 1.5ms)


  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering order_mailer/notify_order_placed.html.erb within layouts/mailer
  [1m[36mProductList Load (0.4ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered order_mailer/notify_order_placed.html.erb within layouts/mailer (14.6ms)
OrderMailer#notify_order_placed: processed outbound mail in 210.8ms
Started GET "/orders/f71aa2d0-0aab-4b37-93f3-76c6d7a2a657" for 127.0.0.1 at 2017-07-13 20:10:29 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 2]]
  Rendered orders/show.html.erb within layouts/application (22.7ms)
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (46.8ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 5968ms (Views: 5927.0ms | ActiveRecord: 4.0ms)


Started GET "/orders/f71aa2d0-0aab-4b37-93f3-76c6d7a2a657" for 127.0.0.1 at 2017-07-13 20:10:35 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 2]]
  Rendered orders/show.html.erb within layouts/application (2.6ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.7ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 95ms (Views: 92.2ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-07-13 20:10:38 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (19.6ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.8ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 93ms (Views: 82.5ms | ActiveRecord: 2.4ms)


Started GET "/products/2" for 127.0.0.1 at 2017-07-13 20:10:39 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (4.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.8ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 86ms (Views: 73.7ms | ActiveRecord: 0.6ms)


Started POST "/products/2/add_to_cart" for 127.0.0.1 at 2017-07-13 20:10:40 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"DoTwt4TjQfxpSd+7C/E3RhNnEIkIKcJQt2j7Chit2wjLOqc6ISZKftG5mmhaPShK7GR/xNO2RoQ1xRXX94L+JA==", "id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProduct Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ? AND "products"."id" = ? LIMIT ?[0m  [["cart_id", 5], ["id", 2], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:18)
Redirected to http://localhost:3000/products/2
Completed 302 Found in 15ms (ActiveRecord: 2.5ms)


Started GET "/products/2" for 127.0.0.1 at 2017-07-13 20:10:40 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.6ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 80ms (Views: 74.5ms | ActiveRecord: 1.2ms)


Started GET "/carts" for 127.0.0.1 at 2017-07-13 20:10:43 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (33.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.4ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 147ms (Views: 141.5ms | ActiveRecord: 2.2ms)


Started PATCH "/cart_items/2" for 127.0.0.1 at 2017-07-13 20:10:57 +0800
Processing by CartItemsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"wzNtnuXmESaDuHO9wh53YFntW9CMvffDGpetz0Qj3++Rib0XnmIlCDgb0xciT8tlWltijkX3F1QkpDHVCU+l+w==", "cart_item"=>{"quantity"=>"10"}, "commit"=>"更新", "id"=>"2"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT  "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ? AND "cart_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 5], ["product_id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "cart_items" SET "quantity" = ?, "updated_at" = ? WHERE "cart_items"."id" = ?[0m  [["quantity", 10], ["updated_at", "2017-07-13 12:10:57.332171"], ["id", 6]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/carts
Completed 302 Found in 31ms (ActiveRecord: 4.3ms)


Started GET "/carts" for 127.0.0.1 at 2017-07-13 20:10:57 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (6.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.5ms)
  Rendered common/_flashes.html.erb (1.0ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 77ms (Views: 74.2ms | ActiveRecord: 1.0ms)


Started POST "/carts/checkout" for 127.0.0.1 at 2017-07-13 20:11:00 +0800
Processing by CartsController#checkout as HTML
  Parameters: {"authenticity_token"=>"qdIN0mdZxV63qKYrCZVHvj98gQ/N4uCO6ZtDKoNzV2lsbFpfwpzO3A9Y4/hYWViywH/uQhZ9ZFprNq33bFxyRQ=="}
  Rendering carts/checkout.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.5ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/checkout.html.erb within layouts/application (69.0ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.6ms)
  Rendered common/_flashes.html.erb (1.1ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 130ms (Views: 126.9ms | ActiveRecord: 1.4ms)


Started POST "/orders" for 127.0.0.1 at 2017-07-13 20:11:02 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"14ZRNPYy3HCb2U1W3wIaGeb0k0pfuRf1kdMeQER+zC0SOAa5U/fX8iMpCIWOzgUVGff8B4QmkyETfvCdq1HpAQ==", "order"=>{"billing_name"=>"", "billing_address"=>"", "shipping_name"=>"", "shipping_address"=>""}, "commit"=>"生成订单"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering carts/checkout.html.erb within layouts/application
  Rendered carts/checkout.html.erb within layouts/application (9.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.1ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 82ms (Views: 66.7ms | ActiveRecord: 1.3ms)


Started POST "/orders" for 127.0.0.1 at 2017-07-13 20:11:11 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"tGABqMsy+ciXuPoaNldBU0oVw69mUHsXUbo4UvRZT/xx3lYlbvfySi9Iv8lnm15ftRas4r3P/8PTF9aPG3Zq0A==", "order"=>{"billing_name"=>"M\bJ", "billing_address"=>"Shanghai", "shipping_name"=>"Mengjun", "shipping_address"=>"shanghai"}, "commit"=>"生成订单"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (2.4ms)[0m  [1m[32mINSERT INTO "orders" ("total", "user_id", "billing_name", "billing_address", "shipping_name", "shipping_address", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["total", 3000], ["user_id", 2], ["billing_name", "M\bJ"], ["billing_address", "Shanghai"], ["shipping_name", "Mengjun"], ["shipping_address", "shanghai"], ["created_at", "2017-07-13 12:11:11.960483"], ["updated_at", "2017-07-13 12:11:11.960483"], ["token", "304138d7-7cde-40aa-ba2b-28cbcad260cf"]]
  [1m[35m (5.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "product_lists" ("order_id", "product_name", "product_price", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["order_id", 4], ["product_name", "Cup"], ["product_price", 300], ["quantity", 10], ["created_at", "2017-07-13 12:11:11.975715"], ["updated_at", "2017-07-13 12:11:11.975715"]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 6]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  Rendering order_mailer/notify_order_placed.html.erb within layouts/mailer
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 4]]
  Rendered order_mailer/notify_order_placed.html.erb within layouts/mailer (3.8ms)
OrderMailer#notify_order_placed: processed outbound mail in 161.0ms
Redirected to http://localhost:3000/orders/304138d7-7cde-40aa-ba2b-28cbcad260cf
Completed 302 Found in 389ms (ActiveRecord: 13.7ms)


Started GET "/orders/304138d7-7cde-40aa-ba2b-28cbcad260cf" for 127.0.0.1 at 2017-07-13 20:11:12 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"304138d7-7cde-40aa-ba2b-28cbcad260cf"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "304138d7-7cde-40aa-ba2b-28cbcad260cf"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 4]]
  Rendered orders/show.html.erb within layouts/application (7.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.1ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 117ms (Views: 108.8ms | ActiveRecord: 1.5ms)


  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddAasmStateToOrder (20170713121842)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "orders" ADD "aasm_state" varchar DEFAULT 'order_placed'[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE  INDEX "index_orders_on_aasm_state" ON "orders" ("aasm_state")[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20170713121842"]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orders_on_aasm_state' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orders_on_aasm_state' AND type='index'
[0m
  [1m[35m (0.5ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
Started POST "/orders/304138d7-7cde-40aa-ba2b-28cbcad260cf/pay_with_alipay" for 127.0.0.1 at 2017-07-13 20:23:45 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by OrdersController#pay_with_alipay as HTML
  Parameters: {"authenticity_token"=>"sCbSRKhWXIN4BqW7/yakjpaZdI2nJbc1bnI4arP5y9R1mIXJDZNXAcD24Giu6ruCaZobwHy6M+Hs39a3XNbu+A==", "id"=>"304138d7-7cde-40aa-ba2b-28cbcad260cf"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "304138d7-7cde-40aa-ba2b-28cbcad260cf"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "orders" SET "payment_method" = 'alipay' WHERE "orders"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 12:23:46.066977"], ["aasm_state", "paid"], ["id", 4]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "orders" SET "is_paid" = 't' WHERE "orders"."id" = ?[0m  [["id", 4]]
Redirected to http://localhost:3000/orders/304138d7-7cde-40aa-ba2b-28cbcad260cf
Completed 302 Found in 82ms (ActiveRecord: 6.0ms)


Started GET "/orders/304138d7-7cde-40aa-ba2b-28cbcad260cf" for 127.0.0.1 at 2017-07-13 20:23:46 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"304138d7-7cde-40aa-ba2b-28cbcad260cf"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "304138d7-7cde-40aa-ba2b-28cbcad260cf"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.8ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 4]]
  Rendered orders/show.html.erb within layouts/application (17.6ms)
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (50.0ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 459ms (Views: 438.2ms | ActiveRecord: 4.3ms)


  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" ORDER BY "orders"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 20:28:13 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (18.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (21.2ms)
Completed 200 OK in 3842ms (Views: 3804.5ms | ActiveRecord: 3.7ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 20:28:17 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (5.2ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 68ms (Views: 64.3ms | ActiveRecord: 0.7ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 20:28:19 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (17.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (7.9ms)
Completed 200 OK in 133ms (Views: 86.4ms | ActiveRecord: 2.2ms)


Started GET "/admin/orders/3" for 127.0.0.1 at 2017-07-13 20:28:25 +0800
  
AbstractController::ActionNotFound (The action 'show' could not be found for Admin::OrdersController):
  
actionpack (5.0.4) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.4) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.4) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.4) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.4) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.4) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.4ms)
Started GET "/admin/orders/4" for 127.0.0.1 at 2017-07-13 20:28:29 +0800
  
AbstractController::ActionNotFound (The action 'show' could not be found for Admin::OrdersController):
  
actionpack (5.0.4) lib/abstract_controller/base.rb:121:in `process'
actionview (5.0.4) lib/action_view/rendering.rb:30:in `process'
actionpack (5.0.4) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (5.0.4) lib/action_controller/metal.rb:262:in `dispatch'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:32:in `serve'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:39:in `block in serve'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:26:in `each'
actionpack (5.0.4) lib/action_dispatch/journey/router.rb:26:in `serve'
actionpack (5.0.4) lib/action_dispatch/routing/route_set.rb:725:in `call'
warden (1.2.7) lib/warden/manager.rb:36:in `block in call'
warden (1.2.7) lib/warden/manager.rb:35:in `catch'
warden (1.2.7) lib/warden/manager.rb:35:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.0.4) lib/active_record/migration.rb:553:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:38:in `block in call'
activesupport (5.0.4) lib/active_support/callbacks.rb:97:in `__run_callbacks__'
activesupport (5.0.4) lib/active_support/callbacks.rb:750:in `_run_call_callbacks'
activesupport (5.0.4) lib/active_support/callbacks.rb:90:in `run_callbacks'
actionpack (5.0.4) lib/action_dispatch/middleware/callbacks.rb:36:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:49:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.0.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.0.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.0.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.0) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/request_id.rb:24:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.0.4) lib/action_dispatch/middleware/static.rb:136:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.0.4) lib/rails/engine.rb:522:in `call'
puma (3.9.1) lib/puma/configuration.rb:224:in `call'
puma (3.9.1) lib/puma/server.rb:602:in `handle_request'
puma (3.9.1) lib/puma/server.rb:435:in `process_client'
puma (3.9.1) lib/puma/server.rb:299:in `block in run'
puma (3.9.1) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/unknown_action.html.erb within rescues/layout (0.5ms)
Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 20:28:32 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (18.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (14.6ms)
Completed 200 OK in 190ms (Views: 181.7ms | ActiveRecord: 1.8ms)


Started GET "/admin/orders/4" for 127.0.0.1 at 2017-07-13 20:31:13 +0800
  
SyntaxError (/Users/guomengjun/Project/jdstore3/app/helpers/orders_helper.rb:8: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/helpers/orders_helper.rb:8: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/application_controller.rb:1:in `<top (required)>'
app/controllers/admin/orders_controller.rb:1:in `<top (required)>'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.6ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (63.2ms)
Started GET "/admin/orders/4" for 127.0.0.1 at 2017-07-13 20:31:29 +0800
Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 20:34:57 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (42.4ms)
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (58.3ms)
Completed 200 OK in 688ms (Views: 616.0ms | ActiveRecord: 5.7ms)


Started GET "/admin/orders/3" for 127.0.0.1 at 2017-07-13 20:35:01 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  [1m[36mProductList Load (0.5ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered admin/orders/show.html.erb within layouts/admin (15.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.9ms)
Completed 200 OK in 112ms (Views: 83.3ms | ActiveRecord: 2.2ms)


Started GET "/admin/orders/4" for 127.0.0.1 at 2017-07-13 20:35:06 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (29.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 4]]
  Rendered admin/orders/show.html.erb within layouts/admin (3.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (8.5ms)
Completed 200 OK in 173ms (Views: 123.5ms | ActiveRecord: 30.6ms)


Started GET "/admin/orders/4" for 127.0.0.1 at 2017-07-13 20:39:45 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.5ms)
  [1m[36mProductList Load (0.4ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 4]]
  Rendered admin/orders/show.html.erb within layouts/admin (13.9ms)
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (23.3ms)
Completed 200 OK in 135ms (Views: 90.2ms | ActiveRecord: 5.5ms)


Started POST "/admin/orders/4/ship" for 127.0.0.1 at 2017-07-13 20:39:50 +0800
Processing by Admin::OrdersController#ship as HTML
  Parameters: {"authenticity_token"=>"h2iyT6QPdcXejnDZSC5eGaVCOetKTC3Aad1xMfQcVnhC1uXCAcp+R2Z+NQoZ4kEVWkFWppHTqRTrcJ/sGzNzVA==", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 12:39:50.198624"], ["aasm_state", "shipping"], ["id", 4]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from ship at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:19)
Redirected to http://localhost:3000/admin/orders/4
Completed 302 Found in 19ms (ActiveRecord: 2.3ms)


Started GET "/admin/orders/4" for 127.0.0.1 at 2017-07-13 20:39:50 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.2ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 4]]
  Rendered admin/orders/show.html.erb within layouts/admin (5.2ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 60ms (Views: 55.8ms | ActiveRecord: 0.7ms)


Started POST "/admin/orders/4/shipped" for 127.0.0.1 at 2017-07-13 20:39:51 +0800
Processing by Admin::OrdersController#shipped as HTML
  Parameters: {"authenticity_token"=>"Oly1cJwd5xZ6mcq5RuBSSldK9OPnc9y+HSz9/CQPtDr/4uL9OdjslMJpj2oXLE1GqEmbrjzsWGqfgRMhyyCRFg==", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 12:39:52.000433"], ["aasm_state", "shipped"], ["id", 4]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from shipped at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:25)
Redirected to http://localhost:3000/admin/orders/4
Completed 302 Found in 15ms (ActiveRecord: 3.5ms)


Started GET "/admin/orders/4" for 127.0.0.1 at 2017-07-13 20:39:52 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.2ms)
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 4]]
  Rendered admin/orders/show.html.erb within layouts/admin (5.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 61ms (Views: 55.6ms | ActiveRecord: 0.9ms)


Started POST "/admin/orders/4/return" for 127.0.0.1 at 2017-07-13 20:39:54 +0800
Processing by Admin::OrdersController#return as HTML
  Parameters: {"authenticity_token"=>"LP4B2q94hD2nWqwnB79oe1pqNXObbPsRFLhkGRdGFFrpQFZXCr2Pvx+q6fRWc3d3pWlaPkDzf8WWFYrE+Gkxdg==", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 12:39:54.661645"], ["aasm_state", "good_returned"], ["id", 4]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from return at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:37)
Redirected to http://localhost:3000/admin/orders/4
Completed 302 Found in 16ms (ActiveRecord: 3.4ms)


Started GET "/admin/orders/4" for 127.0.0.1 at 2017-07-13 20:39:54 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (0.9ms)
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 4]]
  Rendered admin/orders/show.html.erb within layouts/admin (5.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 67ms (Views: 60.5ms | ActiveRecord: 0.8ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 20:39:58 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (15.3ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 82ms (Views: 73.9ms | ActiveRecord: 1.5ms)


Started GET "/admin/orders/3" for 127.0.0.1 at 2017-07-13 20:40:02 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (2.4ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered admin/orders/show.html.erb within layouts/admin (10.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 77ms (Views: 69.0ms | ActiveRecord: 0.9ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 20:40:04 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (15.2ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.4ms)
Completed 200 OK in 88ms (Views: 79.3ms | ActiveRecord: 1.8ms)


Started GET "/carts" for 127.0.0.1 at 2017-07-13 20:40:07 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/index.html.erb within layouts/application (6.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.2ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 71ms (Views: 67.8ms | ActiveRecord: 1.2ms)


Started GET "/carts" for 127.0.0.1 at 2017-07-13 20:40:07 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/index.html.erb within layouts/application (3.2ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (18.8ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.7ms)
Completed 200 OK in 84ms (Views: 80.3ms | ActiveRecord: 0.7ms)


Started GET "/" for 127.0.0.1 at 2017-07-13 20:40:10 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.3ms)
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (11.6ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 121ms (Views: 108.8ms | ActiveRecord: 5.7ms)


Started GET "/carts" for 127.0.0.1 at 2017-07-13 20:40:12 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered carts/index.html.erb within layouts/application (5.3ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.9ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 85ms (Views: 81.4ms | ActiveRecord: 1.1ms)


Started GET "/account/orders" for 127.0.0.1 at 2017-07-13 20:40:14 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (3.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.1ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 89ms (Views: 78.1ms | ActiveRecord: 1.2ms)


Started GET "/orders/1b93dbcc-49ff-4040-891a-dce792450c00" for 127.0.0.1 at 2017-07-13 20:40:15 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1b93dbcc-49ff-4040-891a-dce792450c00"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "1b93dbcc-49ff-4040-891a-dce792450c00"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered orders/show.html.erb within layouts/application (4.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.1ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 82ms (Views: 77.8ms | ActiveRecord: 1.0ms)


Started GET "/orders/f71aa2d0-0aab-4b37-93f3-76c6d7a2a657" for 127.0.0.1 at 2017-07-13 20:40:19 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (1.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 2]]
  Rendered orders/show.html.erb within layouts/application (11.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.3ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 87ms (Views: 81.7ms | ActiveRecord: 2.3ms)


Started POST "/orders/f71aa2d0-0aab-4b37-93f3-76c6d7a2a657/pay_with_alipay" for 127.0.0.1 at 2017-07-13 20:40:21 +0800
Processing by OrdersController#pay_with_alipay as HTML
  Parameters: {"authenticity_token"=>"i6Mtr+4aLbwLAyLxgizwv0S3+ONSeqyjxB8I4+YroPdOHXoiS98mPrPzZyLT4O+zu7SXronlKHdGsuY+CQSF2w==", "id"=>"f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"], ["LIMIT", 1]]
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "orders" SET "payment_method" = 'alipay' WHERE "orders"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 12:40:21.415896"], ["aasm_state", "paid"], ["id", 2]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "orders" SET "is_paid" = 't' WHERE "orders"."id" = ?[0m  [["id", 2]]
Redirected to http://localhost:3000/orders/f71aa2d0-0aab-4b37-93f3-76c6d7a2a657
Completed 302 Found in 15ms (ActiveRecord: 4.5ms)


Started GET "/orders/f71aa2d0-0aab-4b37-93f3-76c6d7a2a657" for 127.0.0.1 at 2017-07-13 20:40:21 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 2]]
  Rendered orders/show.html.erb within layouts/application (1.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.0ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 66ms (Views: 60.6ms | ActiveRecord: 1.0ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 20:40:24 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (4.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.9ms)
Completed 200 OK in 73ms (Views: 65.5ms | ActiveRecord: 0.9ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 20:40:24 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (2.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 58ms (Views: 55.1ms | ActiveRecord: 0.6ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 20:40:26 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (11.4ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.9ms)
Completed 200 OK in 85ms (Views: 78.3ms | ActiveRecord: 1.3ms)


Started GET "/admin/orders/3" for 127.0.0.1 at 2017-07-13 20:40:28 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (1.7ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (2.4ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered admin/orders/show.html.erb within layouts/admin (9.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.0ms)
Completed 200 OK in 112ms (Views: 98.9ms | ActiveRecord: 2.4ms)


Started GET "/" for 127.0.0.1 at 2017-07-13 20:40:32 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (5.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.7ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 102ms (Views: 92.8ms | ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2017-07-13 20:40:32 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.2ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 74ms (Views: 72.3ms | ActiveRecord: 0.6ms)


Started GET "/products/2" for 127.0.0.1 at 2017-07-13 20:42:22 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (26.5ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 107ms (Views: 90.6ms | ActiveRecord: 2.6ms)


Started POST "/products/2/add_to_cart" for 127.0.0.1 at 2017-07-13 20:42:23 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"mtyrmC5Hgl0tYGJJd+xJkjSh2AFK5Bmj3DXpSgJMmNRfYvwVi4KJ35WQJ5omIFaey6K3TJF7nXdemAeX7WO9+A==", "id"=>"2"}
  [1m[36mProduct Load (3.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ? AND "products"."id" = ? LIMIT ?[0m  [["cart_id", 5], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 5], ["product_id", 2], ["created_at", "2017-07-13 12:42:23.466193"], ["updated_at", "2017-07-13 12:42:23.466193"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:18)
Redirected to http://localhost:3000/products/2
Completed 302 Found in 24ms (ActiveRecord: 5.9ms)


Started GET "/products/2" for 127.0.0.1 at 2017-07-13 20:42:23 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.5ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 63ms (Views: 59.9ms | ActiveRecord: 0.7ms)


Started POST "/products/2/add_to_cart" for 127.0.0.1 at 2017-07-13 20:42:25 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"Zc3xen3aUtC3mwxadcvgJcJaWligviZOvmvnnEyHUNygc6b32B9ZUg9rSYkkB/8pPVk1FXshopo8xglBo6h18A==", "id"=>"2"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ? AND "products"."id" = ? LIMIT ?[0m  [["cart_id", 5], ["id", 2], ["LIMIT", 1]]
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:18)
Redirected to http://localhost:3000/products/2
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)


Started GET "/products/2" for 127.0.0.1 at 2017-07-13 20:42:25 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.5ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.4ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 63ms (Views: 59.4ms | ActiveRecord: 1.0ms)


Started GET "/carts" for 127.0.0.1 at 2017-07-13 20:42:26 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (14.1ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.3ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 100ms (Views: 94.5ms | ActiveRecord: 0.7ms)


Started POST "/carts/checkout" for 127.0.0.1 at 2017-07-13 20:42:28 +0800
Processing by CartsController#checkout as HTML
  Parameters: {"authenticity_token"=>"9sIxDwRq9cjX8bX2aX5gTQHdq7VSRchpltlhDJhuBdwzfGaCoa/+Sm8B8CU4sn9B/t7E+InaTL0UdI/Rd0Eg8A=="}
  Rendering carts/checkout.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/checkout.html.erb within layouts/application (74.7ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.5ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 169ms (Views: 136.7ms | ActiveRecord: 1.3ms)


Started POST "/orders" for 127.0.0.1 at 2017-07-13 20:42:36 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DUQrU8yOkBYWZpgWziGx5pIsDuLxwRaYa6eXSS916hPI+nzeaUublK6W3cWf7a7qbS9hrypekkzpCnmUwFrPPw==", "order"=>{"billing_name"=>"M\bJ", "billing_address"=>"Shanghai", "shipping_name"=>"Mengjun", "shipping_address"=>"shanghai"}, "commit"=>"生成订单"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("total", "user_id", "billing_name", "billing_address", "shipping_name", "shipping_address", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["total", 300], ["user_id", 2], ["billing_name", "M\bJ"], ["billing_address", "Shanghai"], ["shipping_name", "Mengjun"], ["shipping_address", "shanghai"], ["created_at", "2017-07-13 12:42:36.707082"], ["updated_at", "2017-07-13 12:42:36.707082"], ["token", "f52a3843-84af-4333-829d-f6baf9d213b3"]]
  [1m[35m (6.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "product_lists" ("order_id", "product_name", "product_price", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["order_id", 5], ["product_name", "Cup"], ["product_price", 300], ["quantity", 1], ["created_at", "2017-07-13 12:42:36.730170"], ["updated_at", "2017-07-13 12:42:36.730170"]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  Rendering order_mailer/notify_order_placed.html.erb within layouts/mailer
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 5]]
  Rendered order_mailer/notify_order_placed.html.erb within layouts/mailer (4.1ms)
OrderMailer#notify_order_placed: processed outbound mail in 177.8ms
Redirected to http://localhost:3000/orders/f52a3843-84af-4333-829d-f6baf9d213b3
Completed 302 Found in 509ms (ActiveRecord: 11.7ms)


Started GET "/orders/f52a3843-84af-4333-829d-f6baf9d213b3" for 127.0.0.1 at 2017-07-13 20:42:37 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"f52a3843-84af-4333-829d-f6baf9d213b3"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f52a3843-84af-4333-829d-f6baf9d213b3"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 5]]
  Rendered orders/show.html.erb within layouts/application (6.2ms)
  [1m[36mCart Load (2.8ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (11.3ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.7ms)
Completed 200 OK in 130ms (Views: 117.3ms | ActiveRecord: 3.9ms)


Started POST "/orders/f52a3843-84af-4333-829d-f6baf9d213b3/pay_with_wechat" for 127.0.0.1 at 2017-07-13 20:42:44 +0800
Processing by OrdersController#pay_with_wechat as HTML
  Parameters: {"authenticity_token"=>"V6uaE2ocE9V7BM70iQBQBaw00QWZrjlYo0+HEYn8LliSFc2ez9kYV8P0iyfYzE8JUze+SEIxvYwh4mnMZtMLdA==", "id"=>"f52a3843-84af-4333-829d-f6baf9d213b3"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f52a3843-84af-4333-829d-f6baf9d213b3"], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "orders" SET "payment_method" = 'wechat' WHERE "orders"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 12:42:44.344581"], ["aasm_state", "paid"], ["id", 5]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35mSQL (1.8ms)[0m  [1m[33mUPDATE "orders" SET "is_paid" = 't' WHERE "orders"."id" = ?[0m  [["id", 5]]
Redirected to http://localhost:3000/orders/f52a3843-84af-4333-829d-f6baf9d213b3
Completed 302 Found in 13ms (ActiveRecord: 4.1ms)


Started GET "/orders/f52a3843-84af-4333-829d-f6baf9d213b3" for 127.0.0.1 at 2017-07-13 20:42:44 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"f52a3843-84af-4333-829d-f6baf9d213b3"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f52a3843-84af-4333-829d-f6baf9d213b3"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 5]]
  Rendered orders/show.html.erb within layouts/application (2.2ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.1ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 69ms (Views: 64.9ms | ActiveRecord: 0.8ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 20:42:47 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (7.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.5ms)
Completed 200 OK in 83ms (Views: 76.2ms | ActiveRecord: 1.0ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 20:42:47 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (2.9ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 65ms (Views: 61.6ms | ActiveRecord: 0.6ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 20:42:49 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (10.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 83ms (Views: 71.1ms | ActiveRecord: 2.4ms)


Started GET "/admin/orders/5" for 127.0.0.1 at 2017-07-13 20:42:52 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (7.5ms)
  [1m[36mProductList Load (1.4ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 5]]
  Rendered admin/orders/show.html.erb within layouts/admin (16.6ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.9ms)
Completed 200 OK in 110ms (Views: 85.1ms | ActiveRecord: 2.7ms)


Started POST "/admin/orders/5/ship" for 127.0.0.1 at 2017-07-13 20:42:55 +0800
Processing by Admin::OrdersController#ship as HTML
  Parameters: {"authenticity_token"=>"Ro1w2T8ufw64/50WhHCNQMW9A+gIk3AbOJWO/61AYB2DMydUmut0jAAP2MXVvJJMOr5spdMM9M+6OGAiQm9FMQ==", "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 12:42:55.439446"], ["aasm_state", "shipping"], ["id", 5]]
  [1m[35m (2.5ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from ship at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:19)
Redirected to http://localhost:3000/admin/orders/5
Completed 302 Found in 15ms (ActiveRecord: 4.2ms)


Started GET "/admin/orders/5" for 127.0.0.1 at 2017-07-13 20:42:55 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.1ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 5]]
  Rendered admin/orders/show.html.erb within layouts/admin (4.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.0ms)
Completed 200 OK in 75ms (Views: 63.1ms | ActiveRecord: 1.7ms)


Started POST "/admin/orders/5/shipped" for 127.0.0.1 at 2017-07-13 20:43:00 +0800
Processing by Admin::OrdersController#shipped as HTML
  Parameters: {"authenticity_token"=>"sY7TPBSnDJcK4CT8XgYM7kSyPpcO9kgYe3uWdaKW9ZF0MISxsWIHFbIQYS8PyhPiu7FR2tVpzMz51nioTbnQvQ==", "id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 12:43:00.327160"], ["aasm_state", "shipped"], ["id", 5]]
  [1m[35m (1.4ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from shipped at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:25)
Redirected to http://localhost:3000/admin/orders/5
Completed 302 Found in 17ms (ActiveRecord: 3.7ms)


Started GET "/admin/orders/5" for 127.0.0.1 at 2017-07-13 20:43:00 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.3ms)
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 5]]
  Rendered admin/orders/show.html.erb within layouts/admin (5.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 78ms (Views: 70.5ms | ActiveRecord: 1.1ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 20:43:02 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (15.2ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 92ms (Views: 81.9ms | ActiveRecord: 1.2ms)


Started GET "/admin/orders/2" for 127.0.0.1 at 2017-07-13 20:43:07 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (2.1ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 2]]
  Rendered admin/orders/show.html.erb within layouts/admin (10.6ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.9ms)
Completed 200 OK in 88ms (Views: 81.4ms | ActiveRecord: 1.2ms)


Started POST "/admin/orders/2/ship" for 127.0.0.1 at 2017-07-13 20:43:08 +0800
Processing by Admin::OrdersController#ship as HTML
  Parameters: {"authenticity_token"=>"IdA5jTZlBrmJfCN1Vgz0TRs6QK6MUAQeDhqGmmy4NWHkbm4Ak6ANOzGMZqYHwOtB5Dkv41fPgMqMt2hHg5cQTQ==", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 12:43:08.660696"], ["aasm_state", "shipping"], ["id", 2]]
  [1m[35m (3.9ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from ship at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:19)
Redirected to http://localhost:3000/admin/orders/2
Completed 302 Found in 12ms (ActiveRecord: 5.2ms)


Started GET "/admin/orders/2" for 127.0.0.1 at 2017-07-13 20:43:08 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.9ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 2]]
  Rendered admin/orders/show.html.erb within layouts/admin (6.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 75ms (Views: 67.6ms | ActiveRecord: 1.9ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 20:43:10 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (10.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.5ms)
Completed 200 OK in 117ms (Views: 106.9ms | ActiveRecord: 1.2ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 20:46:01 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (18.4ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (21.1ms)
Completed 200 OK in 128ms (Views: 98.3ms | ActiveRecord: 2.9ms)


Started GET "/account/orders" for 127.0.0.1 at 2017-07-13 20:46:04 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (5.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.6ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 69ms (Views: 56.7ms | ActiveRecord: 1.2ms)


Started GET "/account/orders" for 127.0.0.1 at 2017-07-13 20:46:04 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (4.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.8ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 89ms (Views: 82.7ms | ActiveRecord: 0.8ms)


Started GET "/orders/304138d7-7cde-40aa-ba2b-28cbcad260cf" for 127.0.0.1 at 2017-07-13 20:46:06 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"304138d7-7cde-40aa-ba2b-28cbcad260cf"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "304138d7-7cde-40aa-ba2b-28cbcad260cf"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 4]]
  Rendered orders/show.html.erb within layouts/application (10.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.5ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 95ms (Views: 78.0ms | ActiveRecord: 1.7ms)


Started GET "/account/orders" for 127.0.0.1 at 2017-07-13 20:46:09 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (9.3ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.5ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 95ms (Views: 89.0ms | ActiveRecord: 1.6ms)


Started GET "/orders/f52a3843-84af-4333-829d-f6baf9d213b3" for 127.0.0.1 at 2017-07-13 20:46:10 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"f52a3843-84af-4333-829d-f6baf9d213b3"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f52a3843-84af-4333-829d-f6baf9d213b3"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 5]]
  Rendered orders/show.html.erb within layouts/application (3.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.4ms)
  Rendered common/_flashes.html.erb (1.1ms)
  Rendered common/_footer.html.erb (0.7ms)
Completed 200 OK in 81ms (Views: 74.4ms | ActiveRecord: 1.6ms)


Started GET "/account/orders" for 127.0.0.1 at 2017-07-13 20:46:13 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (4.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.5ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 89ms (Views: 82.1ms | ActiveRecord: 0.9ms)


Started GET "/orders/f71aa2d0-0aab-4b37-93f3-76c6d7a2a657" for 127.0.0.1 at 2017-07-13 20:46:15 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f71aa2d0-0aab-4b37-93f3-76c6d7a2a657"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 2]]
  Rendered orders/show.html.erb within layouts/application (2.7ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.0ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 79ms (Views: 74.5ms | ActiveRecord: 1.6ms)


Started GET "/orders/1b93dbcc-49ff-4040-891a-dce792450c00" for 127.0.0.1 at 2017-07-13 20:46:18 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1b93dbcc-49ff-4040-891a-dce792450c00"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "1b93dbcc-49ff-4040-891a-dce792450c00"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered orders/show.html.erb within layouts/application (4.4ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 72ms (Views: 68.3ms | ActiveRecord: 0.8ms)


Started GET "/orders/f52a3843-84af-4333-829d-f6baf9d213b3" for 127.0.0.1 at 2017-07-13 20:46:24 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"f52a3843-84af-4333-829d-f6baf9d213b3"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "f52a3843-84af-4333-829d-f6baf9d213b3"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 5]]
  Rendered orders/show.html.erb within layouts/application (5.1ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 99ms (Views: 95.4ms | ActiveRecord: 0.9ms)


Started GET "/orders/304138d7-7cde-40aa-ba2b-28cbcad260cf" for 127.0.0.1 at 2017-07-13 20:46:27 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"304138d7-7cde-40aa-ba2b-28cbcad260cf"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "304138d7-7cde-40aa-ba2b-28cbcad260cf"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 4]]
  Rendered orders/show.html.erb within layouts/application (3.6ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.1ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 95ms (Views: 86.6ms | ActiveRecord: 1.0ms)


Started GET "/orders/1b93dbcc-49ff-4040-891a-dce792450c00" for 127.0.0.1 at 2017-07-13 20:46:30 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1b93dbcc-49ff-4040-891a-dce792450c00"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "1b93dbcc-49ff-4040-891a-dce792450c00"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered orders/show.html.erb within layouts/application (4.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.4ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 90ms (Views: 83.3ms | ActiveRecord: 1.0ms)


Started GET "/orders/1b93dbcc-49ff-4040-891a-dce792450c00" for 127.0.0.1 at 2017-07-13 20:46:36 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1b93dbcc-49ff-4040-891a-dce792450c00"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "1b93dbcc-49ff-4040-891a-dce792450c00"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered orders/show.html.erb within layouts/application (15.5ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.6ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 101ms (Views: 92.9ms | ActiveRecord: 1.5ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 20:46:40 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (13.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (7.5ms)
Completed 200 OK in 77ms (Views: 70.5ms | ActiveRecord: 1.0ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 20:46:40 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 68ms (Views: 63.5ms | ActiveRecord: 0.7ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 20:46:42 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (15.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.8ms)
Completed 200 OK in 93ms (Views: 88.3ms | ActiveRecord: 1.3ms)


Started GET "/" for 127.0.0.1 at 2017-07-13 20:46:45 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (3.6ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.5ms)
  Rendered common/_flashes.html.erb (0.5ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 71ms (Views: 66.4ms | ActiveRecord: 0.9ms)


Started GET "/" for 127.0.0.1 at 2017-07-13 20:46:45 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (6.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.6ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 86ms (Views: 83.6ms | ActiveRecord: 0.9ms)


Started GET "/products/1" for 127.0.0.1 at 2017-07-13 20:46:46 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (3.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (4.1ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.8ms)
Completed 200 OK in 95ms (Views: 84.2ms | ActiveRecord: 0.6ms)


Started POST "/products/1/add_to_cart" for 127.0.0.1 at 2017-07-13 20:46:47 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"ixFL5EEzTCLJgox1eKR3nITTYVnoiLEzhdQw0mLAiWBOrxxp5PZHoHFyyaYpaGiQe9AOFDMXNecHed4Pje+sTA==", "id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ? AND "products"."id" = ? LIMIT ?[0m  [["cart_id", 5], ["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 5], ["product_id", 1], ["created_at", "2017-07-13 12:46:47.830670"], ["updated_at", "2017-07-13 12:46:47.830670"]]
  [1m[35m (1.6ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:18)
Redirected to http://localhost:3000/products/1
Completed 302 Found in 20ms (ActiveRecord: 3.5ms)


Started GET "/products/1" for 127.0.0.1 at 2017-07-13 20:46:47 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.3ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (5.2ms)
  Rendered common/_flashes.html.erb (1.1ms)
  Rendered common/_footer.html.erb (0.8ms)
Completed 200 OK in 71ms (Views: 67.8ms | ActiveRecord: 0.6ms)


Started GET "/carts" for 127.0.0.1 at 2017-07-13 20:46:49 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.1ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (7.9ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.4ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 72ms (Views: 68.8ms | ActiveRecord: 1.0ms)


Started POST "/carts/checkout" for 127.0.0.1 at 2017-07-13 20:46:51 +0800
Processing by CartsController#checkout as HTML
  Parameters: {"authenticity_token"=>"IsqNrAg1G4FbYykhAPkzo1fzopMBQVUuWblverQ7JqDndNohrfAQA+OTbPJRNSyvqPDN3tre0frbFIGnWxQDjA=="}
  Rendering carts/checkout.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendered carts/checkout.html.erb within layouts/application (12.4ms)
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (6.9ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 85ms (Views: 80.8ms | ActiveRecord: 1.3ms)


Started POST "/orders" for 127.0.0.1 at 2017-07-13 20:46:59 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5sHWWGcbu7HPneBfr+8vpvpii/xWBDJrtejD67QpQFkjf4HVwt6wM3dtpYz+IzCqBWHksY2btr83RS02WwZldQ==", "order"=>{"billing_name"=>"M\bJ", "billing_address"=>"Shanghai", "shipping_name"=>"Mengjun", "shipping_address"=>"shanghai"}, "commit"=>"生成订单"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("total", "user_id", "billing_name", "billing_address", "shipping_name", "shipping_address", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["total", 21], ["user_id", 2], ["billing_name", "M\bJ"], ["billing_address", "Shanghai"], ["shipping_name", "Mengjun"], ["shipping_address", "shanghai"], ["created_at", "2017-07-13 12:46:59.170511"], ["updated_at", "2017-07-13 12:46:59.170511"], ["token", "ded23a4e-28e7-4479-aeb9-bae718243d86"]]
  [1m[35m (2.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "product_lists" ("order_id", "product_name", "product_price", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["order_id", 6], ["product_name", "Pen"], ["product_price", 21], ["quantity", 1], ["created_at", "2017-07-13 12:46:59.176550"], ["updated_at", "2017-07-13 12:46:59.176550"]]
  [1m[35m (1.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 32ms (ActiveRecord: 7.3ms)


  
SyntaxError (/Users/guomengjun/Project/jdstore3/app/mailers/order_mailer.rb:17: syntax error, unexpected end-of-input, expecting keyword_end):
  
app/mailers/order_mailer.rb:17: syntax error, unexpected end-of-input, expecting keyword_end
app/controllers/orders_controller.rb:25:in `create'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (3.1ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (65.7ms)
Started POST "/orders" for 127.0.0.1 at 2017-07-13 20:47:34 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"5sHWWGcbu7HPneBfr+8vpvpii/xWBDJrtejD67QpQFkjf4HVwt6wM3dtpYz+IzCqBWHksY2btr83RS02WwZldQ==", "order"=>{"billing_name"=>"M\bJ", "billing_address"=>"Shanghai", "shipping_name"=>"Mengjun", "shipping_address"=>"shanghai"}, "commit"=>"生成订单"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("user_id", "billing_name", "billing_address", "shipping_name", "shipping_address", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["user_id", 2], ["billing_name", "M\bJ"], ["billing_address", "Shanghai"], ["shipping_name", "Mengjun"], ["shipping_address", "shanghai"], ["created_at", "2017-07-13 12:47:34.772728"], ["updated_at", "2017-07-13 12:47:34.772728"], ["token", "dd2dccf9-da2a-43e1-ae48-285534d01678"]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  Rendering order_mailer/notify_order_placed.html.erb within layouts/mailer
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered order_mailer/notify_order_placed.html.erb within layouts/mailer (4.1ms)
OrderMailer#notify_order_placed: processed outbound mail in 21.2ms
Redirected to http://localhost:3000/orders/dd2dccf9-da2a-43e1-ae48-285534d01678
Completed 302 Found in 89ms (ActiveRecord: 5.2ms)


Started GET "/orders/dd2dccf9-da2a-43e1-ae48-285534d01678" for 127.0.0.1 at 2017-07-13 20:47:34 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"dd2dccf9-da2a-43e1-ae48-285534d01678"}
  [1m[36mOrder Load (1.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "dd2dccf9-da2a-43e1-ae48-285534d01678"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.6ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered orders/show.html.erb within layouts/application (7.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (20.5ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 155ms (Views: 146.0ms | ActiveRecord: 3.6ms)


Started POST "/orders/7/apply_to_cancel" for 127.0.0.1 at 2017-07-13 20:47:40 +0800
Processing by OrdersController#apply_to_cancel as HTML
  Parameters: {"authenticity_token"=>"PWTyhQ6rXv0NpGw6BGzBskZOQlh7Tiw8Nc5bYm8aVWj42qUIq25Vf7VUKelVoN6+uU0tFaDRqOi3Y7W/gDVwRA==", "id"=>"7"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms)


  
NoMethodError (undefined method `apply_to_cancel' for OrderMailer:Class):
  
app/controllers/orders_controller.rb:51:in `apply_to_cancel'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (4.1ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.6ms)
Started POST "/orders/7/apply_to_cancel" for 127.0.0.1 at 2017-07-13 20:50:01 +0800
Processing by OrdersController#apply_to_cancel as HTML
  Parameters: {"authenticity_token"=>"PWTyhQ6rXv0NpGw6BGzBskZOQlh7Tiw8Nc5bYm8aVWj42qUIq25Vf7VUKelVoN6+uU0tFaDRqOi3Y7W/gDVwRA==", "id"=>"7"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering order_mailer/apply_cancel.html.erb within layouts/mailer
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered order_mailer/apply_cancel.html.erb within layouts/mailer (5.1ms)
OrderMailer#apply_cancel: processed outbound mail in 45.2ms
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from apply_to_cancel at /Users/guomengjun/Project/jdstore3/app/controllers/orders_controller.rb:53)
Redirected to http://localhost:3000/orders/dd2dccf9-da2a-43e1-ae48-285534d01678
Completed 302 Found in 151ms (ActiveRecord: 4.4ms)


Started GET "/orders/dd2dccf9-da2a-43e1-ae48-285534d01678" for 127.0.0.1 at 2017-07-13 20:50:01 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"dd2dccf9-da2a-43e1-ae48-285534d01678"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "dd2dccf9-da2a-43e1-ae48-285534d01678"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered orders/show.html.erb within layouts/application (6.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (58.3ms)
  Rendered common/_flashes.html.erb (1.4ms)
  Rendered common/_footer.html.erb (0.8ms)
Completed 200 OK in 267ms (Views: 257.4ms | ActiveRecord: 4.4ms)


Started POST "/orders/7/apply_to_cancel" for 127.0.0.1 at 2017-07-13 20:50:09 +0800
Processing by OrdersController#apply_to_cancel as HTML
  Parameters: {"authenticity_token"=>"ur/8CDbmtqBzk8NrVpeRp7JU06IbBGehNTBpompZxHF/AauFkyO9IstjhrgHW46rTVe878Cb43W3nYd/hXbhXQ==", "id"=>"7"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering order_mailer/apply_cancel.html.erb within layouts/mailer
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered order_mailer/apply_cancel.html.erb within layouts/mailer (4.9ms)
OrderMailer#apply_cancel: processed outbound mail in 21.9ms
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from apply_to_cancel at /Users/guomengjun/Project/jdstore3/app/controllers/orders_controller.rb:53)
Redirected to http://localhost:3000/orders/dd2dccf9-da2a-43e1-ae48-285534d01678
Completed 302 Found in 32ms (ActiveRecord: 0.6ms)


Started GET "/orders/dd2dccf9-da2a-43e1-ae48-285534d01678" for 127.0.0.1 at 2017-07-13 20:50:09 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"dd2dccf9-da2a-43e1-ae48-285534d01678"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "dd2dccf9-da2a-43e1-ae48-285534d01678"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered orders/show.html.erb within layouts/application (6.1ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.0ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 120ms (Views: 113.3ms | ActiveRecord: 1.0ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 21:20:19 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (17.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (25.2ms)
Completed 200 OK in 176ms (Views: 139.8ms | ActiveRecord: 3.0ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 21:20:20 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.8ms)
Completed 200 OK in 131ms (Views: 124.5ms | ActiveRecord: 0.8ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 21:20:22 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (34.2ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (9.1ms)
Completed 200 OK in 144ms (Views: 108.3ms | ActiveRecord: 3.1ms)


Started GET "/admin/orders/7" for 127.0.0.1 at 2017-07-13 21:20:24 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.8ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered admin/orders/show.html.erb within layouts/admin (12.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.4ms)
Completed 200 OK in 103ms (Views: 82.8ms | ActiveRecord: 1.5ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 21:20:27 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (22.6ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.3ms)
Completed 200 OK in 106ms (Views: 96.0ms | ActiveRecord: 3.2ms)


Started GET "/admin/orders/5" for 127.0.0.1 at 2017-07-13 21:20:29 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (2.5ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 5]]
  Rendered admin/orders/show.html.erb within layouts/admin (17.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.2ms)
Completed 200 OK in 83ms (Views: 76.2ms | ActiveRecord: 1.9ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 21:20:31 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (23.4ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (7.8ms)
Completed 200 OK in 122ms (Views: 114.9ms | ActiveRecord: 2.5ms)


Started GET "/admin/orders/7" for 127.0.0.1 at 2017-07-13 21:20:35 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (2.6ms)
  [1m[36mProductList Load (0.5ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered admin/orders/show.html.erb within layouts/admin (11.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.7ms)
Completed 200 OK in 114ms (Views: 108.9ms | ActiveRecord: 1.1ms)


Started GET "/account/orders" for 127.0.0.1 at 2017-07-13 21:20:37 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (7.0ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (7.1ms)
  Rendered common/_flashes.html.erb (1.2ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 121ms (Views: 96.5ms | ActiveRecord: 1.2ms)


Started GET "/account/orders" for 127.0.0.1 at 2017-07-13 21:20:37 +0800
Processing by Account::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering account/orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."user_id" = ? ORDER BY id DESC[0m  [["user_id", 2]]
  Rendered account/orders/index.html.erb within layouts/application (3.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.9ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.5ms)
Completed 200 OK in 84ms (Views: 77.6ms | ActiveRecord: 0.8ms)


Started GET "/orders/dd2dccf9-da2a-43e1-ae48-285534d01678" for 127.0.0.1 at 2017-07-13 21:20:40 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"dd2dccf9-da2a-43e1-ae48-285534d01678"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "dd2dccf9-da2a-43e1-ae48-285534d01678"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered orders/show.html.erb within layouts/application (4.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.6ms)
  Rendered common/_flashes.html.erb (1.2ms)
  Rendered common/_footer.html.erb (0.8ms)
Completed 200 OK in 75ms (Views: 68.6ms | ActiveRecord: 1.1ms)


Started POST "/orders/dd2dccf9-da2a-43e1-ae48-285534d01678/pay_with_wechat" for 127.0.0.1 at 2017-07-13 21:20:42 +0800
Processing by OrdersController#pay_with_wechat as HTML
  Parameters: {"authenticity_token"=>"6dU9CyfRVy3Xn3kAIlot8QwGp12mBLypMl/mx6zCdxIsa2qGghRcr29vPNNzljL98wXIEH2bOH2w8ggaQ+1SPg==", "id"=>"dd2dccf9-da2a-43e1-ae48-285534d01678"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "dd2dccf9-da2a-43e1-ae48-285534d01678"], ["LIMIT", 1]]
  [1m[35mSQL (3.3ms)[0m  [1m[33mUPDATE "orders" SET "payment_method" = 'wechat' WHERE "orders"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 13:20:42.063094"], ["aasm_state", "paid"], ["id", 7]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "orders" SET "is_paid" = 't' WHERE "orders"."id" = ?[0m  [["id", 7]]
Redirected to http://localhost:3000/orders/dd2dccf9-da2a-43e1-ae48-285534d01678
Completed 302 Found in 21ms (ActiveRecord: 7.0ms)


Started GET "/orders/dd2dccf9-da2a-43e1-ae48-285534d01678" for 127.0.0.1 at 2017-07-13 21:20:42 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"dd2dccf9-da2a-43e1-ae48-285534d01678"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "dd2dccf9-da2a-43e1-ae48-285534d01678"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered orders/show.html.erb within layouts/application (4.3ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (17.9ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 93ms (Views: 86.9ms | ActiveRecord: 1.3ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 21:20:44 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (8.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.9ms)
Completed 200 OK in 84ms (Views: 76.9ms | ActiveRecord: 1.2ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 21:20:44 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (7.2ms)
Completed 200 OK in 67ms (Views: 64.0ms | ActiveRecord: 1.0ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 21:20:46 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (15.7ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 107ms (Views: 100.8ms | ActiveRecord: 1.2ms)


Started GET "/admin/orders/7" for 127.0.0.1 at 2017-07-13 21:20:48 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (1.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (2.6ms)
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered admin/orders/show.html.erb within layouts/admin (7.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.8ms)
Completed 200 OK in 73ms (Views: 66.5ms | ActiveRecord: 2.0ms)


Started POST "/admin/orders/7/ship" for 127.0.0.1 at 2017-07-13 21:20:50 +0800
Processing by Admin::OrdersController#ship as HTML
  Parameters: {"authenticity_token"=>"1E+KbIrhuONj8K2YZxSsTqS+ehwk+IUMTqB3Xu76Mf4R8d3hLySzYdsA6Es22LNCW70VUf9nAdjMDZmDAdUU0g==", "id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.3ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 13:20:50.246206"], ["aasm_state", "shipping"], ["id", 7]]
  [1m[35m (1.5ms)[0m  [1m[36mcommit transaction[0m
  Rendering order_mailer/notify_ship.html.erb within layouts/mailer
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered order_mailer/notify_ship.html.erb within layouts/mailer (2.5ms)
OrderMailer#notify_ship: processed outbound mail in 17.3ms
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from ship at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:21)
Redirected to http://localhost:3000/admin/orders/7
Completed 302 Found in 49ms (ActiveRecord: 2.5ms)


Started GET "/admin/orders/7" for 127.0.0.1 at 2017-07-13 21:20:50 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (2.5ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered admin/orders/show.html.erb within layouts/admin (7.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (7.4ms)
Completed 200 OK in 108ms (Views: 101.1ms | ActiveRecord: 1.0ms)


Started POST "/admin/orders/7/shipped" for 127.0.0.1 at 2017-07-13 21:20:56 +0800
Processing by Admin::OrdersController#shipped as HTML
  Parameters: {"authenticity_token"=>"z1V4FIwXxwa6SnDMP7uwwnBolnlNdIVQTx1nZvePaP0K6y+ZKdLMhAK6NR9ud6/Oj2v5NJbrAYTNsIm7GKBN0Q==", "id"=>"7"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 13:20:56.164395"], ["aasm_state", "shipped"], ["id", 7]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from shipped at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:27)
Redirected to http://localhost:3000/admin/orders/7
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)


Started GET "/admin/orders/7" for 127.0.0.1 at 2017-07-13 21:20:56 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.2ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered admin/orders/show.html.erb within layouts/admin (5.1ms)
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.5ms)
Completed 200 OK in 72ms (Views: 65.3ms | ActiveRecord: 1.6ms)


Started POST "/admin/orders/7/return" for 127.0.0.1 at 2017-07-13 21:20:58 +0800
Processing by Admin::OrdersController#return as HTML
  Parameters: {"authenticity_token"=>"zYX3yADPTIUn+rAJ9itA8wFICTdsVS7rLaaihPdZUUMIO6BFpQpHB58K9dqn51///ktmerfKqj+vC0xZGHZ0bw==", "id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 13:20:58.253036"], ["aasm_state", "good_returned"], ["id", 7]]
  [1m[35m (0.9ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from return at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:39)
Redirected to http://localhost:3000/admin/orders/7
Completed 302 Found in 14ms (ActiveRecord: 2.7ms)


Started GET "/admin/orders/7" for 127.0.0.1 at 2017-07-13 21:20:58 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.1ms)
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 7]]
  Rendered admin/orders/show.html.erb within layouts/admin (4.5ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (7.5ms)
Completed 200 OK in 69ms (Views: 64.9ms | ActiveRecord: 0.9ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 21:25:54 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (19.7ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.6ms)
Completed 200 OK in 113ms (Views: 97.2ms | ActiveRecord: 1.8ms)


Started GET "/admin/orders/6" for 127.0.0.1 at 2017-07-13 21:25:56 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.7ms)
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 6]]
  Rendered admin/orders/show.html.erb within layouts/admin (7.5ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.8ms)
Completed 200 OK in 89ms (Views: 73.6ms | ActiveRecord: 1.5ms)


Started POST "/admin/orders/6/cancel" for 127.0.0.1 at 2017-07-13 21:25:58 +0800
Processing by Admin::OrdersController#cancel as HTML
  Parameters: {"authenticity_token"=>"9IBXNNxQ3Eb4Z60jpqe2iWfjPjMu2U5LQ3dAubyQHQcxPgC5eZXXxECX6PD3a6mFmOBRfvVGyp/B2q5kU784Kw==", "id"=>"6"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.7ms)


  
NoMethodError (undefined method `cancle_order!' for #<Order:0x007fcb71ce9430>
Did you mean?  cancel_order!
               cancel_order):
  
app/controllers/admin/orders_controller.rb:32:in `cancel'
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_source.html.erb (5.0ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendering /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/guomengjun/.rvm/gems/ruby-2.3.1/gems/actionpack-5.0.4/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (63.9ms)
Started POST "/admin/orders/6/cancel" for 127.0.0.1 at 2017-07-13 21:27:00 +0800
Processing by Admin::OrdersController#cancel as HTML
  Parameters: {"authenticity_token"=>"9IBXNNxQ3Eb4Z60jpqe2iWfjPjMu2U5LQ3dAubyQHQcxPgC5eZXXxECX6PD3a6mFmOBRfvVGyp/B2q5kU784Kw==", "id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (2.2ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 13:27:00.552216"], ["aasm_state", "order_cancelled"], ["id", 6]]
  [1m[35m (0.7ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from cancel at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:33)
Redirected to http://localhost:3000/admin/orders/6
Completed 302 Found in 48ms (ActiveRecord: 4.7ms)


Started GET "/admin/orders/6" for 127.0.0.1 at 2017-07-13 21:27:00 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.3ms)
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 6]]
  Rendered admin/orders/show.html.erb within layouts/admin (13.2ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (27.9ms)
Completed 200 OK in 113ms (Views: 99.5ms | ActiveRecord: 2.1ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 21:27:05 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (13.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.0ms)
Completed 200 OK in 85ms (Views: 78.8ms | ActiveRecord: 1.2ms)


Started GET "/admin/orders/3" for 127.0.0.1 at 2017-07-13 21:27:11 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (2.2ms)
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered admin/orders/show.html.erb within layouts/admin (8.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.6ms)
Completed 200 OK in 86ms (Views: 78.8ms | ActiveRecord: 0.8ms)


Started POST "/admin/orders/3/cancel" for 127.0.0.1 at 2017-07-13 21:27:12 +0800
Processing by Admin::OrdersController#cancel as HTML
  Parameters: {"authenticity_token"=>"1jsIlABiwXtSC57Yz9xAN54IdVLpE4OIdeK4hBD4RRsThV8ZpafK+er72wueEF87YQsaHzKMB1z3T1ZZ/9dgNw==", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 13:27:12.647710"], ["aasm_state", "order_cancelled"], ["id", 3]]
  [1m[35m (1.7ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from cancel at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:33)
Redirected to http://localhost:3000/admin/orders/3
Completed 302 Found in 13ms (ActiveRecord: 2.7ms)


Started GET "/admin/orders/3" for 127.0.0.1 at 2017-07-13 21:27:12 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.4ms)
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered admin/orders/show.html.erb within layouts/admin (5.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.7ms)
Completed 200 OK in 79ms (Views: 72.9ms | ActiveRecord: 0.8ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 21:28:07 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (23.0ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (24.3ms)
Completed 200 OK in 145ms (Views: 114.1ms | ActiveRecord: 3.6ms)


Started GET "/admin/orders/3" for 127.0.0.1 at 2017-07-13 21:28:10 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (1.3ms)
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 3]]
  Rendered admin/orders/show.html.erb within layouts/admin (12.9ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (5.6ms)
Completed 200 OK in 82ms (Views: 71.4ms | ActiveRecord: 1.4ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 21:28:12 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (4.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (21.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.8ms)
Completed 200 OK in 104ms (Views: 88.3ms | ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2017-07-13 21:28:17 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (9.5ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.2ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 86ms (Views: 80.3ms | ActiveRecord: 1.1ms)


Started GET "/" for 127.0.0.1 at 2017-07-13 21:28:17 +0800
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (2.8ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.0ms)
  Rendered common/_flashes.html.erb (1.3ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 85ms (Views: 82.1ms | ActiveRecord: 1.0ms)


Started GET "/products/2" for 127.0.0.1 at 2017-07-13 21:28:19 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (2.5ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (9.7ms)
  Rendered common/_flashes.html.erb (0.7ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 103ms (Views: 92.0ms | ActiveRecord: 1.3ms)


Started POST "/products/2/add_to_cart" for 127.0.0.1 at 2017-07-13 21:28:20 +0800
Processing by ProductsController#add_to_cart as HTML
  Parameters: {"authenticity_token"=>"segerBWqVPwS616xOf7bqUvuw1sqYWyX+l98zk+F7Pp0VkkhsG9ffqobG2JoMsSltO2sFvH+6EN48pIToKrJ1g==", "id"=>"2"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProduct Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ? AND "products"."id" = ? LIMIT ?[0m  [["cart_id", 5], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "cart_items" ("cart_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["cart_id", 5], ["product_id", 2], ["created_at", "2017-07-13 13:28:20.307139"], ["updated_at", "2017-07-13 13:28:20.307139"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from add_to_cart at /Users/guomengjun/Project/jdstore3/app/controllers/products_controller.rb:18)
Redirected to http://localhost:3000/products/2
Completed 302 Found in 25ms (ActiveRecord: 4.5ms)


Started GET "/products/2" for 127.0.0.1 at 2017-07-13 21:28:20 +0800
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (1.4ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.9ms)
  Rendered common/_flashes.html.erb (0.6ms)
  Rendered common/_footer.html.erb (0.3ms)
Completed 200 OK in 86ms (Views: 83.2ms | ActiveRecord: 0.8ms)


Started GET "/carts" for 127.0.0.1 at 2017-07-13 21:28:22 +0800
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.3ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/index.html.erb within layouts/application (13.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (7.8ms)
  Rendered common/_flashes.html.erb (0.9ms)
  Rendered common/_footer.html.erb (0.4ms)
Completed 200 OK in 92ms (Views: 87.1ms | ActiveRecord: 1.4ms)


Started POST "/carts/checkout" for 127.0.0.1 at 2017-07-13 21:28:24 +0800
Processing by CartsController#checkout as HTML
  Parameters: {"authenticity_token"=>"wFpKoTSAjYVo43OxIsUTKs+8oVZZWFPiSR1tauGBJvsF5B0skUWGB9ATNmJzCQwmML/OG4LH1zbLsIO3Dq4D1w=="}
  Rendering carts/checkout.html.erb within layouts/application
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (0.2ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered carts/checkout.html.erb within layouts/application (14.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.4ms)
  Rendered common/_flashes.html.erb (0.8ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 99ms (Views: 94.8ms | ActiveRecord: 2.3ms)


Started POST "/orders" for 127.0.0.1 at 2017-07-13 21:28:33 +0800
Processing by OrdersController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lJpK/VmbXwzDh7uMhgMvPeT1vYdjCUh3cTujxJHMDZJRJB1w/F5Ujnt3/l/XzzAxG/bSyriWzKPzlk0ZfuMovg==", "order"=>{"billing_name"=>"M\bJ", "billing_address"=>"Shanghai", "shipping_name"=>"Mengjun", "shipping_address"=>"shanghai"}, "commit"=>"生成订单"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCartItem Load (1.0ms)[0m  [1m[34mSELECT "cart_items".* FROM "cart_items" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("total", "user_id", "billing_name", "billing_address", "shipping_name", "shipping_address", "created_at", "updated_at", "token") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["total", 300], ["user_id", 2], ["billing_name", "M\bJ"], ["billing_address", "Shanghai"], ["shipping_name", "Mengjun"], ["shipping_address", "shanghai"], ["created_at", "2017-07-13 13:28:33.262373"], ["updated_at", "2017-07-13 13:28:33.262373"], ["token", "5d723ff1-6fc5-4eb8-8c3c-840a4216500f"]]
  [1m[35m (2.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "product_lists" ("order_id", "product_name", "product_price", "quantity", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["order_id", 8], ["product_name", "Cup"], ["product_price", 300], ["quantity", 1], ["created_at", "2017-07-13 13:28:33.269090"], ["updated_at", "2017-07-13 13:28:33.269090"]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "cart_items" WHERE "cart_items"."id" = ?[0m  [["id", 9]]
  [1m[35m (1.8ms)[0m  [1m[36mcommit transaction[0m
  Rendering order_mailer/notify_order_placed.html.erb within layouts/mailer
  [1m[36mProductList Load (0.2ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 8]]
  Rendered order_mailer/notify_order_placed.html.erb within layouts/mailer (3.0ms)
OrderMailer#notify_order_placed: processed outbound mail in 35.8ms
Redirected to http://localhost:3000/orders/5d723ff1-6fc5-4eb8-8c3c-840a4216500f
Completed 302 Found in 119ms (ActiveRecord: 9.8ms)


Started GET "/orders/5d723ff1-6fc5-4eb8-8c3c-840a4216500f" for 127.0.0.1 at 2017-07-13 21:28:33 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"5d723ff1-6fc5-4eb8-8c3c-840a4216500f"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "5d723ff1-6fc5-4eb8-8c3c-840a4216500f"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 8]]
  Rendered orders/show.html.erb within layouts/application (6.8ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (10.8ms)
  Rendered common/_flashes.html.erb (1.3ms)
  Rendered common/_footer.html.erb (0.6ms)
Completed 200 OK in 166ms (Views: 158.4ms | ActiveRecord: 1.3ms)


Started GET "/orders/5d723ff1-6fc5-4eb8-8c3c-840a4216500f" for 127.0.0.1 at 2017-07-13 21:28:37 +0800
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"5d723ff1-6fc5-4eb8-8c3c-840a4216500f"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."token" = ? LIMIT ?[0m  [["token", "5d723ff1-6fc5-4eb8-8c3c-840a4216500f"], ["LIMIT", 1]]
  Rendering orders/show.html.erb within layouts/application
  [1m[36mProductList Load (0.1ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 8]]
  Rendered orders/show.html.erb within layouts/application (5.6ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered common/_navbar.html.erb (8.7ms)
  Rendered common/_flashes.html.erb (1.1ms)
  Rendered common/_footer.html.erb (1.2ms)
Completed 200 OK in 91ms (Views: 84.0ms | ActiveRecord: 1.4ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 21:28:43 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (7.9ms)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.4ms)
Completed 200 OK in 83ms (Views: 75.5ms | ActiveRecord: 1.2ms)


Started GET "/admin/products" for 127.0.0.1 at 2017-07-13 21:28:43 +0800
Processing by Admin::ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/products/index.html.erb within layouts/admin
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered admin/products/index.html.erb within layouts/admin (3.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (6.6ms)
Completed 200 OK in 96ms (Views: 92.0ms | ActiveRecord: 0.9ms)


Started GET "/admin/orders" for 127.0.0.1 at 2017-07-13 21:28:45 +0800
Processing by Admin::OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering admin/orders/index.html.erb within layouts/admin
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" ORDER BY id DESC[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendered admin/orders/index.html.erb within layouts/admin (27.3ms)
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (4.8ms)
Completed 200 OK in 104ms (Views: 93.2ms | ActiveRecord: 1.6ms)


Started GET "/admin/orders/8" for 127.0.0.1 at 2017-07-13 21:28:47 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (3.6ms)
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 8]]
  Rendered admin/orders/show.html.erb within layouts/admin (11.0ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (7.0ms)
Completed 200 OK in 86ms (Views: 76.3ms | ActiveRecord: 1.2ms)


Started POST "/admin/orders/8/cancel" for 127.0.0.1 at 2017-07-13 21:28:49 +0800
Processing by Admin::OrdersController#cancel as HTML
  Parameters: {"authenticity_token"=>"n6nYyFmqCCE5C2WMTYvWMU3nN0Ei3B+a0mvLieuwkRdaF49F/G8Do4H7IF8cR8k9suRYDPlDm05QxiVUBJ+0Ow==", "id"=>"8"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "orders" SET "updated_at" = ?, "aasm_state" = ? WHERE "orders"."id" = ?[0m  [["updated_at", "2017-07-13 13:28:49.537526"], ["aasm_state", "order_cancelled"], ["id", 8]]
  [1m[35m (0.8ms)[0m  [1m[36mcommit transaction[0m
  Rendering order_mailer/notify_cancel.html.erb within layouts/mailer
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 8]]
  Rendered order_mailer/notify_cancel.html.erb within layouts/mailer (4.3ms)
OrderMailer#notify_cancel: processed outbound mail in 20.3ms
DEPRECATION WARNING: `redirect_to :back` is deprecated and will be removed from Rails 5.1. Please use `redirect_back(fallback_location: fallback_location)` where `fallback_location` represents the location to use if the request has no HTTP referer information. (called from cancel at /Users/guomengjun/Project/jdstore3/app/controllers/admin/orders_controller.rb:35)
Redirected to http://localhost:3000/admin/orders/8
Completed 302 Found in 45ms (ActiveRecord: 3.6ms)


Started GET "/admin/orders/8" for 127.0.0.1 at 2017-07-13 21:28:49 +0800
Processing by Admin::OrdersController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT  "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  Rendering admin/orders/show.html.erb within layouts/admin
  Rendered admin/orders/_state_option.html.erb (2.1ms)
  [1m[36mProductList Load (0.3ms)[0m  [1m[34mSELECT "product_lists".* FROM "product_lists" WHERE "product_lists"."order_id" = ?[0m  [["order_id", 8]]
  Rendered admin/orders/show.html.erb within layouts/admin (8.4ms)
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT  "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "products" INNER JOIN "cart_items" ON "products"."id" = "cart_items"."product_id" WHERE "cart_items"."cart_id" = ?[0m  [["cart_id", 5]]
  Rendered common/_navbar.html.erb (7.5ms)
Completed 200 OK in 128ms (Views: 121.1ms | ActiveRecord: 1.1ms)


